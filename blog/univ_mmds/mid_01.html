<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>웅덩이</title><link rel="canonical" href="https://wjlee611.github.io/blog/univ_mmds/mid_01"/><meta name="next-head-count" content="4"/><link rel="icon" href="/images/icon_circle.png"/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css" rel="stylesheet"/><meta name="description" content="웅덩이"/><meta name="apple-mobile-web-app-title" content="웅덩이"/><meta name="application-name" content="웅덩이"/><meta name="theme-color" content="#009c39"/><meta name="google-site-verification" content="vhQ9DaDdUJcSBHKI_U6tAtE61zwz2i2pLQXyZ62GRLk"/><meta name="naver-site-verification" content="07764cc1a8eda55b4bdf78cf846d6811d042b9ee"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/a1f889d514f2dc20.css" as="style"/><link rel="stylesheet" href="/_next/static/css/a1f889d514f2dc20.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-401a9806b070f31a.js" defer=""></script><script src="/_next/static/chunks/main-6b74302918225334.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c8492b7109a908de.js" defer=""></script><script src="/_next/static/chunks/95b64a6e-5c1c80ce1af5e491.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slugs%5D-d30256c1e19801d0.js" defer=""></script><script src="/_next/static/-oJKTxDSUdSuYSM_J6M7B/_buildManifest.js" defer=""></script><script src="/_next/static/-oJKTxDSUdSuYSM_J6M7B/_ssgManifest.js" defer=""></script></head><body class="text-primary transition-[background] bg-white dark:bg-[#1A1C23]"><script>
            const theme = localStorage.getItem("theme");
            const getUserTheme = () => {
             if(theme){
              return theme
             } 
             return window.matchMedia('(prefers-color-scheme: dark)').matches
             ? 'dark'
             : 'light'
          }
          document.body.dataset.theme = getUserTheme();
          </script><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="__className_e3a9ed text-center transition-all "><header class="fixed top-0 left-0 right-0 mx-anuo w-screen h-12 md:h-16 flex justify-between items-center px-2 md:px-10 backdrop-blur bg-blue-200 bg-opacity-20 z-50"><div class="h-full flex items-center"><a class="h-full aspect-square flex justify-center items-center text-3xl select-none cursor-pointer" href="/">🫧</a><nav class="h-full hidden md:flex space-x-8 overflow-hidden ml-10"><li class="h-full flex items-center list-none relative select-none"><a class="h-full w-full md:w-auto flex items-center transition-colors py-2 md:my-0 font-bold text-black dark:text-white " href="/">Portfolio</a></li><li class="h-full flex items-center list-none relative select-none"><a class="h-full w-full md:w-auto flex items-center transition-colors py-2 md:my-0 font-bold text-blue-500 " href="/blog">Blog</a><div class="hidden md:flex w-full h-[2px] bg-blue-500 absolute bottom-0 left-0 blur-[2px]"></div></li><li class="h-full flex items-center list-none relative select-none"><a class="h-full w-full md:w-auto flex items-center transition-colors py-2 md:my-0 font-bold text-black dark:text-white " href="/arkhive">Arkhive</a></li></nav></div><div class="flex items-center h-full"><button aria-label="Toggle Dark Mode" type="button" class="flex h-9 w-9 items-center justify-center rounded-lg transition-all text-secondary hover:bg-secondary "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-6 w-6 text-yellow-400 drop-shadow-base"></svg></button><button class="flex md:hidden items-center justify-center w-16 h-full text-2xl text-black dark:text-white"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M4.5 11.5A.5.5 0 0 1 5 11h10a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm-2-4A.5.5 0 0 1 1 3h10a.5.5 0 0 1 0 1H1a.5.5 0 0 1-.5-.5z"></path></svg></button></div></header><main class="inline-block w-full relative pt-16 px-8 max-w-5xl 2xl:max-w-7xl" style="opacity:1;transform:none"><div class="flex flex-col items-start pb-16"><header class="flex w-full flex-col items-center my-10"><h1 class="bg-gradient-to-br from-blue-600 to-blue-400 bg-clip-text text-transparent text-3xl font-bold mb-5 drop-shadow">분산 파일관리 시스템</h1><span class="text-blue-500 text-lg">분산 파일관리 시스템에 관련한 기초 지식을 배웁니다.</span><span class="space-x-10 mt-5 text-blue-400 text-sm">읽는데<span class="text-blue-500 text-xl font-semibold"> <!-- -->11</span>분 정도 걸려요.</span></header><section class="w-full flex justify-between space-x-5"><div class="w-full flex flex-col items-start prose dark:prose-dark max-w-full lg:max-w-2xl 2xl:max-w-4xl"><h2 id="분산-파일관리-시스템"><a class="anchor" href="#분산-파일관리-시스템"><span class="icon icon-link"></span></a>분산 파일관리 시스템</h2>
<p>방대한 데이터 보관, 또는 백업을 위해 데이터를 분산 저장하는 경우 여러대의 컴퓨터를 연결하여 하나처럼 동작하도록 구성해야 한다.</p>
<p>하지만, 실시간으로 데이터를 처리해야 하는 부분에 대해서는 데이터를 복사하여 네트워크 전송을 통해 처리하는 방식은 네트워크 속도가 상대적으로 매우 느리기 때문에 문제가 있다.</p>
<p>이런 경우에는 데이터를 옮기는 것이 아닌, 필요한 데이터를 보관하는 컴퓨터에게 <code>연산 작업을 맡기고</code>, <code>동기화는 주기적</code>으로 하는 방식을 사용하는 것이 좋다.</p>
<p>이렇게 데이터를 분산하여 저장하는 시스템을 분산 파일관리 시스템이라 불리고, <code>Spark</code>, <code>MapReduce</code>와 같은 시스템이 이런 방식을 사용한다.<br/>
<!-- -->하지만, 이런 파일관리 시스템은 1개의 머신만을 사용하는 시스템에 비해 속도가 느리기 때문에 아래의 조건을 만족하는 경우에만 사용하는 것이 바람직하다.</p>
<ol>
<li>데이터 양이 매우 많은 경우</li>
<li>데이터의 수정은 왠만하면 일어나지 않는 경우</li>
<li>읽고 이어쓰기가 빈번하게 일어나는 경우</li>
</ol>
<h3 id="chunk-servers"><a class="anchor" href="#chunk-servers"><span class="icon icon-link"></span></a>Chunk servers</h3>
<p>16~64MB 정도의 파일을 하나의 Chunk로 묶어 관리하는데, 이런 청크를 2, 3배 중복으로 다른 물리적 공간에 저장하는 식으로 분산 관리를 하게 되는데,<br/>
<!-- -->이런 다른 물리적 공간을 Chunk server 라고 부른다.</p>
<p><img src="/posts/mid_01/231019-143146.png" alt="231019-143146"/></p>
<p>따라서 여러 청크서버에 동일한 청크가 분산 저장되어 있기 때문에 하나의 청크서버가 다운되더라도 데이터는 온전히 남는다.</p>
<p>또한, 위에서 언급했 듯, 데이터를 움직이는 것이 아닌 연산을 일임한다고 했는데,<br/>
<!-- -->서버의 과부화 방지를 위해 각 청크서버가 특정 청크에 필요한 연산을 전담하여 수행하고 결과를 반환한다.</p>
<h3 id="master-node"><a class="anchor" href="#master-node"><span class="icon icon-link"></span></a>Master node</h3>
<p>파일이 저장된 위치인 메타데이터를 저장한 서버이다.<br/>
<!-- -->따라서 파일 엑세스 요청이 들어오면, 일단 모든 요청은 마스터 노드로 향하여 요청한 파일이 어느 청크서버에 있는지 알아낸다.<br/>
<!-- -->이후 그 요청에 대한 응답은 청크서버로 직접 엑세스되어 청크서버에서 요청이 처리되게 된다.</p>
<p>여기서 드는 의문점은 <strong>왜 마스터 노드가 직접 데이터를 전달하지 않는가</strong>이다.<br/>
<!-- -->그 이유는 마스터 노드에 엑세스가 제일 많은데 데이터까지 전달하게 되면 과부화가 걸리기 때문에 그렇다.</p>
<hr/>
<h2 id="mapreduce"><a class="anchor" href="#mapreduce"><span class="icon icon-link"></span></a>MapReduce</h2>
<p>초창기 분산 컴퓨팅 프로그래밍 모델이다.<br/>
<!-- -->이 기술의 구현체로 Hadoop, Spark, Flink 등이 있는데, 이 모델의 동작 과정을 살펴보자.</p>
<h3 id="overview"><a class="anchor" href="#overview"><span class="icon icon-link"></span></a>overview</h3>
<p><img src="/posts/mid_01/231019-144045.png" alt="231019-144045"/></p>
<p>Map, Group by Key(보통 자동으로 일어남), Reduce의 3단계로 이루어지는데, 각 단계에서 어떻게 일이 처리되는지 알아보자.</p>
<p>참고로 Map, Reduce의 과정은 하나의 머신에서 일어나는 것이 아닌, 다중 머신에서 병렬적으로 일어난다는 점을 기억하자.</p>
<h3 id="map"><a class="anchor" href="#map"><span class="icon icon-link"></span></a>Map</h3>
<p>우선 개발자가 Map 함수를 작성한다.<br/>
<!-- -->Map 함수는 읽은 데이터를 처리하기 위해 <code>key-value pair</code>로 변환하는 작업을 수행하게 된다.</p>
<p>하지만 MapReduce에서 사용 가능한 규격으로 데이터를 처리해야 하는데 이 과정이 좀 까다로울 수 있다.</p>
<p>추가로 이 이후에 생성된 key값을 이용해서 해싱같은 방식을 이용해 생성된 페어를 Reduce를 수행할 컴퓨터로 보내게 된다.</p>
<h3 id="group-by-key"><a class="anchor" href="#group-by-key"><span class="icon icon-link"></span></a>Group by Key</h3>
<p>Map으로 얻어진 pair을 key값을 중심으로 정렬하고, 중복된 key들에 대해 value 들을 배열로 묶어주는 일을 처리한다.<br/>
<!-- -->대부분의 시스템에서 이 과정은 자동으로 일어나기 때문에 개발자가 개입할 부분이 상대적으로 적다.</p>
<p>하지만 성능적으로 이 단계에서 <code>병목현상</code>이 발생할 수 있다.<br/>
<!-- -->Map, Reduce는 파일이나 청크를 한 번만 탐색하면 끝나지만(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>),<br/>
<!-- -->Group by Key는 정렬 및 그루핑을 해야하기 때문에 상대적으로 느리기 때문이다(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n log(n))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.02778em">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">))</span></span></span></span></span>).</p>
<h3 id="reduce"><a class="anchor" href="#reduce"><span class="icon icon-link"></span></a>Reduce</h3>
<p>개발자가 개발한 Reduce 함수를 이용해 배열로 되어있는 values들을 하나로 합쳐준다.<br/>
<!-- -->이 과정이 종료되면 유니크한 key-value pairs가 생성될 것이다.</p>
<h3 id="dealing-with-failures"><a class="anchor" href="#dealing-with-failures"><span class="icon icon-link"></span></a>Dealing with Failures</h3>
<p><code>Map worker</code>가 다운된 경우에는 일이 진행 중이든 완료되었든 간에 무조건 다른 worker에게 일을 처음부터 재시작하게 한다.<br/>
<!-- -->왜냐하면 일이 완료된 경우 그 결과를 시간 비용의 문제 때문에 <code>로컬 디스크</code>에 데이터를 저장하기 때문이다.</p>
<p>반면에 <code>Reduce worker</code>가 다운된 경우에는 일이 진행 중인 경우에만 다른 worker에게 일을 처음부터 재시작하도록 한다.<br/>
<!-- -->Reduce일이 완료된 경우, 그 결과는 중요한 데이터이니 <code>분산 저장</code>하기 때문에 완료된 경우에 다운되어도 재시작할 필요가 없는 것이다.</p>
<h3 id="cost-measure"><a class="anchor" href="#cost-measure"><span class="icon icon-link"></span></a>Cost Measure</h3>
<p>MapReduce 내부적으로 사용되는 알고리즘의 비용을 측정해보자.</p>
<ol>
<li>Communication cost<br/>
<!-- -->모든 프로세스의 <strong>I/O bytes</strong></li>
</ol>
<blockquote>
<p>(아래 항목을 모두 더하면 됌)</p>
<ul>
<li>입력 파일 사이즈</li>
<li>2 <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em"></span><span class="mord">×</span></span></span></span></span> Map process → Reduce process 로 이동한 파일 사이즈 (2를 곱한 이유는 Map, Reduce 2개이기 때문)</li>
<li>Reduce process에서 나온 출력 사이즈의 합</li>
</ul>
</blockquote>
<ol start="2">
<li>Elapsed communication cost<br/>
<!-- -->Communication cost 중 가장 큰(peak) 비용 (정확히는 파일 사이즈가 가장 큰 입력 파일 기준)<br/>
<!-- -->→ 이 비용이 작을수록 병렬(분산)화가 잘 되었다는 뜻이다.</li>
<li>(Elapsed) Computation cost<br/>
<!-- -->1, 2와 동일, 단, 기준이 byte 단위가 아닌 <strong>I/O 시간</strong> 단위 기준임.</li>
</ol>
<tip><p>대부분의 클라우드 서비스는 Communication cost 기준으로 비용이 청구됌.<br/>
<!-- -->(Elapsed는 기준은 아님)</p></tip>
<hr/>
<h2 id="problems-suited-for-mapreduce"><a class="anchor" href="#problems-suited-for-mapreduce"><span class="icon icon-link"></span></a>Problems Suited for MapReduce</h2>
<p>Spark과 같은 라이브러리 말고 MapReduce만 사용하기에도 충분한 문제들을 알아보자.<br/>
<!-- -->보통 데이터 <code>순차탐색</code> 문제나, <code>비 실시간</code>으로 처리되어도 상관없는 여유로운 작업에 적합하다.</p>
<h3 id="host-size"><a class="anchor" href="#host-size"><span class="icon icon-link"></span></a>Host size</h3>
<p>url로 부터 host를 추출하고, 해당 호스트에서 제공하는 많고 거대한 데이터의 총 크기(용량)을 알고싶을 때 사용할 수 있다.</p>
<blockquote>
<p>(host1, size1)<br/>
<!-- -->(host2, size2)<br/>
<!-- -->...</p>
</blockquote>
<h3 id="language-model"><a class="anchor" href="#language-model"><span class="icon icon-link"></span></a>Language Model</h3>
<p>언어 모델 개발시에도 이용할 수 있다.</p>
<blockquote>
<p>5개의 단어 뭉치가 문서에서 얼마나 등장하는지<br/>
<!-- -->(5-word seq, count)</p>
</blockquote>
<p>이런 경우도 map, reduce로 간단하게 만들 수 있다.</p>
<h3 id="join"><a class="anchor" href="#join"><span class="icon icon-link"></span></a>join</h3>
<p>join 연산도 MapReduce로 할 수 있다.</p>
<p><img src="/posts/mid_01/231019-155529.png" alt="231019-155529"/></p>
<p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mo stretchy="false">(</mo><mi>A</mi><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">)</mo><mo>⋈</mo><mi>S</mi><mo stretchy="false">(</mo><mi>B</mi><mo separator="true">,</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">R(A,B) \Join S(B,C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.00773em">R</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">⋈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mclose">)</span></span></span></span></span>를 <code>natural join</code>한다로 해보자.</p>
<blockquote>
<p><code>Map</code></p>
<ol>
<li>join에 사용될 column을 key로 사용하는 key-value 페어로 만든다.</li>
</ol>
<p>(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">b_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">a_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">a_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">b_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">a_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">c_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">c_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S))<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">b_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">c_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S))</p>
<ol start="2">
<li>키값을 해싱한 후 Reduce 프로세스로 보낸다.</li>
</ol>
</blockquote>
<blockquote>
<p><code>Reduce</code></p>
<ol>
<li>Reduce를 진행한다.</li>
</ol>
<p>(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>b</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(b_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>, [(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">a_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R), (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">a_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R)])<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>b</mi><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(b_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>, [(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">a_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R), (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">c_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S), (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">c_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S)])<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi><mo stretchy="false">(</mo><msub><mi>b</mi><mn>3</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h(b_3)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>, [(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">a_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, R), (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">c_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, S)])</p>
<ol start="2">
<li>values에 R-S로 되어있는 value들만 묶어서 (a,b,c)로 출력한다.<br/>
<!-- -->(R-R, S-S를 제외하기 위해서 value pair에 R, S를 포함시킨 것이다)</li>
</ol>
<p>(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">a_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">c_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>)<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">a_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">b_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">c_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>)<br/>
<!-- -->(<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">a_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>b</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">b_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>c</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">c_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>)</p>
</blockquote>
<h3 id="not-suited"><a class="anchor" href="#not-suited"><span class="icon icon-link"></span></a>Not Suited</h3>
<p>적합하지 않은 문제상황은 뭐가 있을까?<br/>
<!-- -->graph 탐색이나, ML에서의 <code>비 순차탐색</code> 하는 경우에는 적합치 않다.</p></div><div class="w-72 hidden h-fit max-h-[calc(100vh-10rem)] lg:flex flex-col overflow-x-hidden overflow-y-scroll scrollbar-hide rounded-xl transition-all sticky top-32 bg-gradient-to-br from-blue-400 to-blue-950"><div class=""><p id="toc-header" class="py-3 font-extrabold leading-6 bg-black bg-opacity-20 text-white">🫧 한 눈에 보기</p><ul id="toc-content" class="px-4 pb-2 mt-2 flex flex-col items-start justify-start text-sm text-start"><li><a href="#분산-파일관리-시스템" class="group block py-1  text-white hover:text-blue-200 hover:drop-shadow-base-bold">분산 파일관리 시스템</a></li><li class="ml-4"><a href="#chunk-servers" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Chunk servers</a></li><li class="ml-4"><a href="#master-node" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Master node</a></li><li><a href="#mapreduce" class="group block py-1  text-white hover:text-blue-200 hover:drop-shadow-base-bold">MapReduce</a></li><li class="ml-4"><a href="#overview" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>overview</a></li><li class="ml-4"><a href="#map" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Map</a></li><li class="ml-4"><a href="#group-by-key" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Group by Key</a></li><li class="ml-4"><a href="#reduce" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Reduce</a></li><li class="ml-4"><a href="#dealing-with-failures" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Dealing with Failures</a></li><li class="ml-4"><a href="#cost-measure" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Cost Measure</a></li><li><a href="#problems-suited-for-mapreduce" class="group block py-1  text-white hover:text-blue-200 hover:drop-shadow-base-bold">Problems Suited for MapReduce</a></li><li class="ml-4"><a href="#host-size" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Host size</a></li><li class="ml-4"><a href="#language-model" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Language Model</a></li><li class="ml-4"><a href="#join" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>join</a></li><li class="ml-4"><a href="#not-suited" class="group flex items-start py-[2px] text-white hover:text-blue-200 hover:drop-shadow-base"><svg width="3" height="24" viewBox="0 -9 3 24" class="mr-2 overflow-visible text-white"><path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path></svg>Not Suited</a></li></ul></div></div></section><footer class="w-full flex flex-col mt-10"><span class="text-blue-400 italic text-start">2023-10-19 / 14:13<!-- --> 에 작성을 시작했어요.</span><div class="w-full flex items-start mt-5 mb-10 space-x-5"><span>Tag</span><ul class="w-full flex list-none m-0 flex-wrap gap-1"><li class="bg-gradient-to-br from-blue-500 to-blue-400 px-3 text-white rounded-md shadow-md whitespace-nowrap"># <!-- -->분산 파일관리</li><li class="bg-gradient-to-br from-blue-500 to-blue-400 px-3 text-white rounded-md shadow-md whitespace-nowrap"># <!-- -->Chunk</li><li class="bg-gradient-to-br from-blue-500 to-blue-400 px-3 text-white rounded-md shadow-md whitespace-nowrap"># <!-- -->Map</li><li class="bg-gradient-to-br from-blue-500 to-blue-400 px-3 text-white rounded-md shadow-md whitespace-nowrap"># <!-- -->Reduce</li></ul></div><div class="flex flex-col items-center mb-5"><div class="w-full bg-gradient-to-br from-blue-400 to-blue-950 mt-5 rounded-md overflow-hidden"><h3 class="bg-black bg-opacity-50 px-1 py-3"><span class="bg-gradient-to-br from-blue-600 to-blue-400 bg-clip-text text-transparent font-bold drop-shadow">대학 - 빅데이터 처리 및 응용</span><span class="text-white">의 다른 글</span></h3><ol class="w-full p-1 space-y-1"><li class="w-full "><a class="w-full flex justify-center text-white " href="/blog/univ_mmds/mid_05">Finding Similar Items</a></li><li class="w-full "><a class="w-full flex justify-center text-white " href="/blog/univ_mmds/mid_04">Association Rules</a></li><li class="w-full "><a class="w-full flex justify-center text-white " href="/blog/univ_mmds/mid_03">Frequent Itemset</a></li><li class="w-full "><a class="w-full flex justify-center text-white " href="/blog/univ_mmds/mid_02">Spark 개념</a></li><li class="w-full bg-black bg-opacity-20 rounded-md"><a class="w-full flex justify-center text-white before:content-[&#x27;🫧&#x27;] before:mr-2 after:content-[&#x27;🫧&#x27;] after:ml-2" href="/blog/univ_mmds/mid_01">분산 파일관리 시스템</a></li></ol></div></div><section class="w-full self-center"></section></footer></div></main></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"분산 파일관리 시스템","description":"분산 파일관리 시스템에 관련한 기초 지식을 배웁니다.","icon":"","image":"","tags":["분산 파일관리","Chunk","Map","Reduce"],"draft":false,"date":"2023-10-19 / 14:13","content":"\n## 분산 파일관리 시스템\n\n방대한 데이터 보관, 또는 백업을 위해 데이터를 분산 저장하는 경우 여러대의 컴퓨터를 연결하여 하나처럼 동작하도록 구성해야 한다.\n\n하지만, 실시간으로 데이터를 처리해야 하는 부분에 대해서는 데이터를 복사하여 네트워크 전송을 통해 처리하는 방식은 네트워크 속도가 상대적으로 매우 느리기 때문에 문제가 있다.\n\n이런 경우에는 데이터를 옮기는 것이 아닌, 필요한 데이터를 보관하는 컴퓨터에게 `연산 작업을 맡기고`, `동기화는 주기적`으로 하는 방식을 사용하는 것이 좋다.\n\n이렇게 데이터를 분산하여 저장하는 시스템을 분산 파일관리 시스템이라 불리고, `Spark`, `MapReduce`와 같은 시스템이 이런 방식을 사용한다.\n하지만, 이런 파일관리 시스템은 1개의 머신만을 사용하는 시스템에 비해 속도가 느리기 때문에 아래의 조건을 만족하는 경우에만 사용하는 것이 바람직하다.\n\n1. 데이터 양이 매우 많은 경우\n2. 데이터의 수정은 왠만하면 일어나지 않는 경우\n3. 읽고 이어쓰기가 빈번하게 일어나는 경우\n\n### Chunk servers\n\n16~64MB 정도의 파일을 하나의 Chunk로 묶어 관리하는데, 이런 청크를 2, 3배 중복으로 다른 물리적 공간에 저장하는 식으로 분산 관리를 하게 되는데,\n이런 다른 물리적 공간을 Chunk server 라고 부른다.\n\n![231019-143146](/posts/mid_01/231019-143146.png)\n\n따라서 여러 청크서버에 동일한 청크가 분산 저장되어 있기 때문에 하나의 청크서버가 다운되더라도 데이터는 온전히 남는다.\n\n또한, 위에서 언급했 듯, 데이터를 움직이는 것이 아닌 연산을 일임한다고 했는데,\n서버의 과부화 방지를 위해 각 청크서버가 특정 청크에 필요한 연산을 전담하여 수행하고 결과를 반환한다.\n\n### Master node\n\n파일이 저장된 위치인 메타데이터를 저장한 서버이다.\n따라서 파일 엑세스 요청이 들어오면, 일단 모든 요청은 마스터 노드로 향하여 요청한 파일이 어느 청크서버에 있는지 알아낸다.\n이후 그 요청에 대한 응답은 청크서버로 직접 엑세스되어 청크서버에서 요청이 처리되게 된다.\n\n여기서 드는 의문점은 **왜 마스터 노드가 직접 데이터를 전달하지 않는가**이다.\n그 이유는 마스터 노드에 엑세스가 제일 많은데 데이터까지 전달하게 되면 과부화가 걸리기 때문에 그렇다.\n\n---\n\n## MapReduce\n\n초창기 분산 컴퓨팅 프로그래밍 모델이다.\n이 기술의 구현체로 Hadoop, Spark, Flink 등이 있는데, 이 모델의 동작 과정을 살펴보자.\n\n### overview\n\n![231019-144045](/posts/mid_01/231019-144045.png)\n\nMap, Group by Key(보통 자동으로 일어남), Reduce의 3단계로 이루어지는데, 각 단계에서 어떻게 일이 처리되는지 알아보자.\n\n참고로 Map, Reduce의 과정은 하나의 머신에서 일어나는 것이 아닌, 다중 머신에서 병렬적으로 일어난다는 점을 기억하자.\n\n### Map\n\n우선 개발자가 Map 함수를 작성한다.\nMap 함수는 읽은 데이터를 처리하기 위해 `key-value pair`로 변환하는 작업을 수행하게 된다.\n\n하지만 MapReduce에서 사용 가능한 규격으로 데이터를 처리해야 하는데 이 과정이 좀 까다로울 수 있다.\n\n추가로 이 이후에 생성된 key값을 이용해서 해싱같은 방식을 이용해 생성된 페어를 Reduce를 수행할 컴퓨터로 보내게 된다.\n\n### Group by Key\n\nMap으로 얻어진 pair을 key값을 중심으로 정렬하고, 중복된 key들에 대해 value 들을 배열로 묶어주는 일을 처리한다.\n대부분의 시스템에서 이 과정은 자동으로 일어나기 때문에 개발자가 개입할 부분이 상대적으로 적다.\n\n하지만 성능적으로 이 단계에서 `병목현상`이 발생할 수 있다.\nMap, Reduce는 파일이나 청크를 한 번만 탐색하면 끝나지만($O(n)$),\nGroup by Key는 정렬 및 그루핑을 해야하기 때문에 상대적으로 느리기 때문이다($O(n log(n))$).\n\n### Reduce\n\n개발자가 개발한 Reduce 함수를 이용해 배열로 되어있는 values들을 하나로 합쳐준다.\n이 과정이 종료되면 유니크한 key-value pairs가 생성될 것이다.\n\n### Dealing with Failures\n\n`Map worker`가 다운된 경우에는 일이 진행 중이든 완료되었든 간에 무조건 다른 worker에게 일을 처음부터 재시작하게 한다.\n왜냐하면 일이 완료된 경우 그 결과를 시간 비용의 문제 때문에 `로컬 디스크`에 데이터를 저장하기 때문이다.\n\n반면에 `Reduce worker`가 다운된 경우에는 일이 진행 중인 경우에만 다른 worker에게 일을 처음부터 재시작하도록 한다.\nReduce일이 완료된 경우, 그 결과는 중요한 데이터이니 `분산 저장`하기 때문에 완료된 경우에 다운되어도 재시작할 필요가 없는 것이다.\n\n### Cost Measure\n\nMapReduce 내부적으로 사용되는 알고리즘의 비용을 측정해보자.\n\n1. Communication cost\n  모든 프로세스의 **I/O bytes**\n\u003e (아래 항목을 모두 더하면 됌)\n\u003e - 입력 파일 사이즈\n\u003e - 2 $\\times$ Map process \u0026rarr; Reduce process 로 이동한 파일 사이즈 (2를 곱한 이유는 Map, Reduce 2개이기 때문)\n\u003e - Reduce process에서 나온 출력 사이즈의 합\n2. Elapsed communication cost\n  Communication cost 중 가장 큰(peak) 비용 (정확히는 파일 사이즈가 가장 큰 입력 파일 기준)\n  \u0026rarr; 이 비용이 작을수록 병렬(분산)화가 잘 되었다는 뜻이다.\n3. (Elapsed) Computation cost\n  1, 2와 동일, 단, 기준이 byte 단위가 아닌 **I/O 시간** 단위 기준임.\n\n\u003ctip\u003e\n  대부분의 클라우드 서비스는 Communication cost 기준으로 비용이 청구됌.\n  (Elapsed는 기준은 아님)\n\u003c/tip\u003e\n\n---\n\n## Problems Suited for MapReduce\n\nSpark과 같은 라이브러리 말고 MapReduce만 사용하기에도 충분한 문제들을 알아보자.\n보통 데이터 `순차탐색` 문제나, `비 실시간`으로 처리되어도 상관없는 여유로운 작업에 적합하다.\n\n### Host size\n\nurl로 부터 host를 추출하고, 해당 호스트에서 제공하는 많고 거대한 데이터의 총 크기(용량)을 알고싶을 때 사용할 수 있다.\n\n\u003e (host1, size1)\n\u003e (host2, size2)\n\u003e ...\n\n### Language Model\n\n언어 모델 개발시에도 이용할 수 있다.\n\n\u003e 5개의 단어 뭉치가 문서에서 얼마나 등장하는지\n\u003e (5-word seq, count)\n\n이런 경우도 map, reduce로 간단하게 만들 수 있다.\n\n### join\n\njoin 연산도 MapReduce로 할 수 있다.\n\n![231019-155529](/posts/mid_01/231019-155529.png)\n\n$R(A,B) \\Join S(B,C)$를 `natural join`한다로 해보자.\n\n\u003e `Map`\n\u003e 1. join에 사용될 column을 key로 사용하는 key-value 페어로 만든다.\n\u003e\n\u003e   ($b_1$, ($a_1$, R))\n\u003e   ($b_1$, ($a_2$, R))\n\u003e   ($b_2$, ($a_3$, R))\n\u003e   ($b_3$, ($a_4$, R))\n\u003e   ($b_2$, ($c_1$, S))\n\u003e   ($b_2$, ($c_2$, S))\n\u003e   ($b_3$, ($c_3$, S))\n\u003e\n\u003e 2. 키값을 해싱한 후 Reduce 프로세스로 보낸다.\n\n\u003e `Reduce`\n\u003e 1. Reduce를 진행한다.\n\u003e\n\u003e   ($h(b_1)$, [($a_1$, R), ($a_2$, R)])\n\u003e   ($h(b_2)$, [($a_3$, R), ($c_1$, S), ($c_2$, S)])\n\u003e   ($h(b_3)$, [($a_4$, R), ($c_3$, S)])\n\u003e\n\u003e 2. values에 R-S로 되어있는 value들만 묶어서 (a,b,c)로 출력한다.\n\u003e   (R-R, S-S를 제외하기 위해서 value pair에 R, S를 포함시킨 것이다)\n\u003e\n\u003e   ($a_3$, $b_2$, $c_1$)\n\u003e   ($a_3$, $b_2$, $c_2$)\n\u003e   ($a_4$, $b_3$, $c_3$)\n\n### Not Suited\n\n적합하지 않은 문제상황은 뭐가 있을까?\ngraph 탐색이나, ML에서의 `비 순차탐색` 하는 경우에는 적합치 않다.","slug":"univ_mmds/mid_01","readingMinutes":11,"wordCount":837},"posts":[{"title":"Finding Similar Items","description":"유사도 높은 문서를 찾아내는 방법을 알아봅니다.","icon":"","image":"","tags":["Shingling","Minhashing","Jaccard Similarity"],"draft":false,"date":"2023-10-20 / 22:12","content":"\n생김새가 비슷한 사이트를 묶거나, 표절 검사를 하거나, 비슷한 내용의 뉴스를 클러스터링 하는 등 여러 분야에서 사용될 수 있는 기술에 대해 설명합니다.\n\n\u003cnotice\u003e\n  생김새가 비슷한 문서를 찾아내는 기술이지, 비슷한 토픽을 찾아내는 기술은 아닙니다.\n\u003c/notice\u003e\n\n아래의 단계를 거쳐 비슷한 문서를 찾게 되는데, 각 단계에 대한 세부적인 내용은 추후에 설명합니다.\n\n1. `Shingling`을 통해 데이터(문서)를 집합으로 변환\n2. `Minhashing`을 통해 큰 집합을 작은 시그니처로 변환\n3. `LSH`를 통해 시그니처를 분류 후 비슷한 집합 찾기\n\n## Jaccard Similarity\n\n세부내용 설명 전 개념 하나만 짚고 넘어가자.\n유사도를 검사할 때, 다음과 같은 경우를 고려해보자.\n\nA, B 모두 메이져한 게임들을 주로 플레이하고, A는 RPG를, B는 FPS를 주로 플레이한다고 가정하자.\n이 때, 마이너한 장르의 게임을 예시로 들며 유사도를 검사하는데, A, B 모두 해당 게임을 보유하지 않는다고 두 사람의 유사도가 높다고 이야기 할 수 있을까?\n두 사람은 그런 마이너한 장르의 게임에 관심이 없어서 갖고있지 않을 뿐인데, 둘 다 갖고있지 않다고 두 사람의 플레이스타일이 유사하다고 판단하는 것은 무리가 있다.\n\n따라서 이런 유사도 파악의 오류를 해결하기 위해 Jaccard 유사도를 사용하여 유사도를 측정하게 된다.\n\n$$\nSim(C_1, C_2) = \\frac{|C_1 \\cap C_2|}{|C_1 \\cup C_2|}\n$$\n\n즉, **두 사람 중 한 사람이라도 해당 게임을 보유하고 있는 경우에만 두 사람이 동시에 해당 게임을 보유하는가**로 유사도를 검사하는 것이다.\n\n---\n\n## Shingling\n\n문서의 유사도를 측정할 때 그 기준이 되는 토큰을 생성하는 방법입니다.\n`k-shingle` 과 같은 용어를 사용하는데, 이는 k개의 문자로 이루어진 shingle을 의미합니다.\n실제로 비슷한 문서를 싱글링 했을 때 집합의 원소도 일치하는 부분이 매우 많습니다.\n\n예로 들어 \\\"The dog which chased the cat\\\" 이라는 문장이 있다고 했을 때, 여기서 2-shingle를 구하면 다음과 같습니다.\n\n\u003e th(보통 소문자로 변환), he, e_, _d, do, og, ...\n\n하지만, 2-shingle로 하면 th, he, do와 같이 문장으로 볼 때는 상당히 유니크한 의미를 갖는 문장이 이렇게 아무데서나 나올법한 shingle이 되어버립니다.\n따라서 보통은 `8~10`-shingle로 하는 것이 적당합니다.\n\n### Tokens\n\n10-shingle을 사용하는 경우에는 최대 $27^{10} \\approx 200조$ 개의 싱글이 생성되게 됩니다.\n이를 메모리상에서 관리하는 것은 현실적으로 불가능한 일입니다.\n\n따라서 싱글을 해싱하여 4bytes의 자료형으로 변환하여 `Token`으로서 사용하게 됩니다.\n4bytes로 최대 약 42억개의 서로 다른 싱글을 표현할 수 있습니다.\n물론 다른 싱글에 대해 같은 토큰이 생성될 수 있지만, 그리 빈번한 경우는 아닐 것이며, 효율상 이 방법이 더 좋습니다.\n\n즉, 같은 토큰을 보유한 문서가 있다면, 그 문서들은 같은 싱글을 갖고있다는 얘기이므로, 유사도가 있다고 판단할 수 있겠습니다.\n\n---\n\n## Minhashing\n\nMinhashing을 알아보기 전, 데이터를 표현하는 행렬을 읽는 법을 알고가자.\n\n| (token) | $C_1$ | $C_2$ |\n|---|---|---|\n| a | 0 | 0 |\n| b | 1 | 0 |\n| c | 0 | 1 |\n| d | 1 | 1 |\n\na 토큰(싱글)은 문서(Column) 1, 2에서 모두 없다는 뜻이고, b는 문서 1에서만 갖고있다는 뜻으로 해석하면 된다.\n참고로 위의 경우 두 문서의 Jaccard 유사도는 **1/3**이다. (a는 둘 다 없기에 비교대상이 아니다)\n\n### Permute the rows\n\n우선 행을 핸덤으로 뒤죽박죽 섞는다.\n섞는다는 것은 실제로 맊 섞는다는 것이 아닌, 탐색 순서를 섞는다는 것을 의미하는데, 구현 관점에서 해싱을 돌리는 것과 같다.\n예시를 보며 이해해보자.\n\n| (row) | $C_1$ | $C_2$ | $C_3$ |\n|---|---|---|---|\n| 1 | 0 | 1 | 1 |\n| 2 | 1 | 0 | 1 |\n| 3 | 0 | 1 | 0 |\n| 4 | 0 | 0 | 0 |\n| 5 | 1 | 0 | 1 |\n\n$h_1(x) = x \\% 5$ 해시함수를 적용하면 탐색 순서는 다음과 같아진다.\n\n\u003e **5**(0) \u0026rarr; **1**(1) \u0026rarr; **2**(2) \u0026rarr; **3**(3) \u0026rarr; **4**(4)\n\n$h_2(x) = (2x+1) \\% 5$ 해시함수를 적용하면 탐색 순서는 다음과 같아진다.\n\n\u003e **2**(0) \u0026rarr; **5**(1) \u0026rarr; **3**(2) \u0026rarr; **1**(3) \u0026rarr; **4**(4)\n\n### Create signature\n\n탐색 순서에 맞게 처음으로 1(토큰 보유)을 만나는 탐색 순서를 기록한다.\n\n\u003e $h_1$를 적용한 탐색시 생성되는 Singature matrix\n\u003e [1, 2, 1]\n\u003e\n\u003e $h_2$를 적용한 탐색시 생성되는 Singature matrix\n\u003e [1, 3, 1]\n\n즉, $C_1$에 대한 시그니처는 11, $C_2$는 23, $C_3$은 11이 된다.\n\n여기서 중요한 특징이 있는데, 시그니처의 길이가 길어질 수록(무작위 순서에 의한 탐색 횟수가 늘어날 수록) 시그니처가 일치할 확률이 Jaccard 유사도와 확률이 같아진다.\n그 이유를 간단한 예시로 이해해보자.\n\n우선, $C_2$과 $C_3$의 Jaccard 유사도는 **1/4**이다.\n그런데 이 때, Singature가 같아지는 경우는 무엇일까? 바로 **최초로 1이 나오는 시점이 같다**는 이야기이다.\n즉, 같은 row에 대해 둘 다 1이 들어가 있는 row를 고를 확률과 같아진다.\n둘 다 0인 경우를 제외하면 4개 중에 둘 다 1인 row는 1개 존재하기에 Jaccard 유사도와 동일한 **1/4** 확률을 갖는다.\n\n![231020-235719](/posts/mid_05/231020-235719.png)\n\n이해를 돕기 위해 다른 예시도 보자.\n\n원래대로라면 생성되는 모든 토큰(42억개)에 대해 유사도를 검사 했어야 했다.\n하지만, 시그니처를 만드는 과정에서 무작위 순서로 탐색을 진핼할 때, 탐색개수를 제한을 걸면 검사 시간을 줄일 수 있다.\n예로 들어 해시함수의 결과를 50까지만 검색한다면 42억개의 항목에 대해 검사를 진행하지 않아도 된다. \n\n이 때 검사 개수를 줄인 만큼 서로다른 해시를 여러 번 진행하면 신뢰도 역시 어느정도 확보할 수 있다.\n예로 들어 서로 다른 해시함수 100개를 적용한다면, 시그니처의 길이가 100으로 결정되는데, 이 길이는 충분히 신뢰도를 확보할 수 있을 것이다.\n즉, 42억개에서 100개로 압축되는 효과가 발생하는 것이다.\n\n위의 사진을 예시로 실제 Jaccard 유사도와 시그니처 유사도를 비교해보며 시그니처 길이가 신뢰도에 어느정도 영향을 주는지 알아보자.\n\n\u003e Column 1, 2\n\u003e Jaccard Similarity: **1/4**\n\u003e Singature Similarity: **1/3**\n\u003e\n\u003e Column 2, 3\n\u003e Jaccard Similarity: **1/5**\n\u003e Singature Similarity: **1/3**\n\u003e\n\u003e Column 3, 4\n\u003e Jaccard Similarity: **1/5**\n\u003e Singature Similarity: **0**\n\n### implement\n\n의사코드로 구현해보고 시그니처 생성과정을 살펴보자.\n\n```cpp:의사코드\n// 처음에 무한대로 초기화\nfor (all i and c) M(i, c) = inf;\n\n// 각 행에 대해 반복하는데, 여기에 탐색개수 50개와 같은 제한을 걸 수 있음\nfor (each row r) {\n  for (each hash function h_i) {\n    compute h_i(r);\n  }\n  for (each column c) {\n    // 탐색지점에 1이 있는 경우\n    if (c has 1 in row r) {\n      for (each hash function h_1) {\n        // 저장된 시그니처보다 새 탐색값이 작은 경우에만 업데이트\n        if (h_i(r) is smaller them M(i, c)) {\n          M(i, c) = h_i(r);\n        }\n      }\n    }\n  }\n}\n```\n\n![231021-001859](/posts/mid_05/231021-001859.png)","slug":"univ_mmds/mid_05","readingMinutes":11,"wordCount":927},{"title":"Association Rules","description":"빅데이터에서 연관 규칙을 찾아내는 방법에 대해 알아봅니다.","icon":"","image":"","tags":["Association Rules","Support","Confidence","Interest"],"draft":false,"date":"2023-10-20 / 20:08","content":"\n## Application\n\n연관 규칙을 응용할 수 있는 분야를 살펴보면서 대략적인 이해와 필요성에 대해 알아보자.\n\n![231020-201233](/posts/mid_04/231020-201233.png)\n\n장을볼 때 각 장바구니에 어떤 물건을 샀는지를 나타내는 표이다.\n이 표를 간단하게 분석해보면, `Milk`를 산 사람은 대체로 `Coke`를 사는 경향이 있고, `Diaper, Milk`를 동시에 산 사람은 대체로 `Beer`를 산 경향이 있는걸로 보인다.\n이렇게 사람들의 구매 경향을 분석할 때 사용하기도 한다.\n\n또한 문서 상에서 **\\{the\\} \u0026rarr; \\{cat\\}** 이라는 규칙이 있다면 the 라는 단어 뒤에는 대체적으로 cat 이라는 단어가 나온다는 뜻으로, 자연어처리시 문법을 파악하고 학습시키는데 도움이 될 수도 있다.\n\n그 외에도 여러 분야에서 활용될 수 있지만, 섣부른 일반화는 안된다.\n예로 들어 **비타민C를 많이 먹는 사람들은 불면증을 겪는 경향이 있다**는 규칙을 발견했다면, **비타민C를 안먹는 경우**에도 불면증 경향이 있는지 검사해봐야 확실해는 것이다.\n\n## Frequent Itemset\n\nFrequent Itemset을 구하는 방법은 [**`저번 포스트`**](https://wjlee611.github.io/blog/univ_mmds/mid_03)에서 알아봤으니, 이젠 용어과 수식을 통해 연관 규칙을 정의하는 것을 알아보자.\n\n### Support\n\n**Support for itemset I** 라고 한다면 itemset I가 등장한 횟수를 의미한다.\n전체 basket에서 itemset I가 등장한 횟수를 카운트 하면 된다.\n이 때, Support threshold S 보다 크다면 빈번하다고 판단하게 되는 것이다.\n\n| Baskets | m(ilk), c(oke), p(epsi), b(read), j(am) |\n| --- | --- |\n| $B_1$ = **\\{m, c, b\\}** | $B_2$ = **\\{m, p, j\\}** |\n| $B_3$ = **\\{m, b\\}** | $B_4$ = **\\{c, j\\}** |\n| $B_5$ = **\\{m, p, b\\}** | $B_6$ = **\\{m, c, b, j\\}** |\n| $B_7$ = **\\{c, b, j\\}** | $B_8$ = **\\{b, c\\}** |\n\n예로 들어 위와 같이 목록들이 존재하고, Support threshold가 `3 baskets` 라고 주어진다면,\nFrequent itemset은 아래와 같이 나오게 된다.\n\n\u003e **\\{m\\}, \\{c\\}, \\{b\\}, \\{j\\}, \\{m, b\\}, \\{b, c\\}, \\{c, j\\}**\n\n## Association Rules\n\n**특정 집합($I$)이 등장할 때 $j$ 하는 경향이 있다** 라는 연관 규칙을 수식화 하면 아래와 같이 표현이 가능하다.\n\n\u003e $\\{i_1, \\; i_2, \\; ,... \\; , i_k\\}$ \u0026rarr; $j$\n\n### Confidence\n\n이 떄, 그 경향에 대한 신뢰도, `Confidence`는 아래와 같이 수식화 할 수 있다.\n\n$$\nconf(I \\rightarrow j) = \\frac{support(I \\cup j)}{support(I)}\n$$\n\n즉 조건부에 해당하는 itemset이 등장할 확률 기반으로 itemset + j 가 동시에 등장할 확률을 구하면 되는 것이다.\n\n### Interest\n\n하지만 신뢰도가 높다고 반드시 의미있는 규칙이 발견된 것은 아니다.\n\n예로 들어 **X \u0026rarr; milk** 라는 규칙을 발견했다고 가정하자.\n그러나, 굳이 X가 아니더라고 그냥 milk는 많이 사기때문에 둘 사이에 연관성이 깊다고 판단하기에는 무리가 있다.\n\n이 떄문에 `Interest`의 개념이 존재한다.\n\n$$\nInterest(I \\rightarrow j) = | conf(I \\rightarrow j) - Pr[j] | \\\\\nPr[j] = \\frac{support(j)}{표본 \\; 수}\n$$\n\n흥미도는 I 신뢰도에서 j가 등장할 확률을 뺀 값의 절댓값과 같다.\n\n보통 해당 값이 `0.5보다 크다`면 해당 규칙이 의존성이 있다는 의미가 된다.\n만약 `-0.5보다 작은` 경우에도 의존성이 있다는 의미가 있는데 이 경우에는 **I, j를 둘 다 사는 경우는 없다**는 뜻으로 해석할 수 있다.\n\n| Baskets | m(ilk), c(oke), p(epsi), b(read), j(am) |\n| --- | --- |\n| $B_1$ = **\\{m, c, b\\}** | $B_2$ = **\\{m, p, j\\}** |\n| $B_3$ = **\\{m, b\\}** | $B_4$ = **\\{c, j\\}** |\n| $B_5$ = **\\{m, p, b\\}** | $B_6$ = **\\{m, c, b, j\\}** |\n| $B_7$ = **\\{c, b, j\\}** | $B_8$ = **\\{b, c\\}** |\n\n위애서 예시로 든 baskets에서 다음과 같은 연관 규칙을 찾았다고 해보자.\n\n\u003e **\\{m, b\\} \u0026rarr; c**\n\u003e\n\u003e $support(\\{m, b\\} \\cup c)$ = **2** (m, b, c 동시 등장 횟수)\n\u003e $support(\\{m, b\\})$ = **4** (m, b 동시 등장 횟수)\n\u003e $conf(\\{m, b\\} \\rightarrow c)$ = 2/4 = **0.5**\n\u003e $Interest(\\{m, b\\} \\rightarrow c)$ = | 0.5 - 5/8 | = **1/8**\n\n즉, 이 경우에는 Interest가 낮기 때문에 그다지 의미 없는 규칙이라는 뜻이다.\n\n### Mining Association Rules\n\n1. 모든 빈발 항목 집합 I를 찾는다.\n  (이건 [**`이전 포스트`**](https://wjlee611.github.io/blog/univ_mmds/mid_03)에서 찾는 법을 다룸)\n\n2. 규칙 생성\n\n이제 규칙을 생성하는 방식을 알아보자.\n\n우선 생성된 빈발 항목 집합 I의 부분집합을 이용해서 생성 가능한 모든 연관 규칙을 만든다.\n예로 들어 **I = \\{a, b, c, d\\}** 라면, **\\{a, b, d\\} \u0026rarr; c, \\{a, b\\} \u0026rarr; \\{c, d\\}** 등등과 같이 모든 조합에 대해 만들어 주는 것이다.\n\n그 다음은 생성된 모든 규칙에 대해 Confidence, Interest를 분석해서 의미있는 규칙만 남도록 걸러내면 된다.\n여기서 특정 규칙을 검사하고 나면 나머지 특정 규칙들은 검사할 필요가 없어지는 최적화가 가능한데, 그 이유를 알아보자.\n\n예로 들어 **\\{a, b, c\\} \u0026rarr; d** 의 confidence가 threshold 이하라면 **\\{a, b, c\\}** 의 부분집합이 조건부가 되는 규칙들(**\\{a, b\\} \u0026rarr; \\{c, d\\}**, **\\{b\\} \u0026rarr; \\{a, c, d\\}**, ...)은 검사를 진행할 필요가 없어진다.\n왜냐하면 아래의 식을 잘 살펴보자.\n\n$$\nconf(I \\rightarrow j) = \\frac{support(I \\cup j)}{support(I)}\n$$\n\n여기서 동일한 빈발 항목 집합에 대해 생성된 규칙이면 분자는 동일하다는 것은 자명하다.\n즉, 분모만 변화하게 되는데, 원소의 개수가 줄어들 수록 분모의 값은 필연적으로 같거나 커질 수 밖에 없다.\n그렇기에, confidence는 반드시 같거나 작아질 수 밖에 없는 것이다. (하물며 threshold와 비교하면? 분명 더 작을거다.)\n\n| Baskets | m(ilk), c(oke), p(epsi), b(read), j(am) |\n| --- | --- |\n| $B_1$ = **\\{m, c, b\\}** | $B_2$ = **\\{m, p, j\\}** |\n| $B_3$ = **\\{m, c, b, n\\}** | $B_4$ = **\\{c, j\\}** |\n| $B_5$ = **\\{m, p, b\\}** | $B_6$ = **\\{m, c, b, j\\}** |\n| $B_7$ = **\\{c, b, j\\}** | $B_8$ = **\\{b, c\\}** |\n\n마지막으로 실제로 연관 규칙을 찾아보며 마무리해보자.\nthreshold = 3, confidence = 0.75 로 제한한다고 가정하자.\n\n\u003e Frequent itemsets: \n\u003e **\\{b, m\\} \\{b, c\\} \\{c, m\\} \\{c, j\\} \\{m, c, b\\}**\n\n| Generate rules | | | |\n| --- | --- | --- | --- |\n| ~~b \u0026rarr; m [c=0.67]~~ | b \u0026rarr; c [c=0.83] | ... | ~~b,c \u0026rarr; m [c=0.6]~~ |\n| m \u0026rarr; b [c=0.8] | c \u0026rarr; b [c=0.83] | | ~~b \u0026rarr; c,m (검사 필요 없음)~~ |\n| | | | ~~c \u0026rarr; b,m (검사 필요 없음)~~ |\n| | | | c,m \u0026rarr; b [c=1] |\n| | | | b,m \u0026rarr; c [c=0.75] |\n| | | | ~~m \u0026rarr; b,c [c=0.6]~~ |\n이후에 interest도 진행\n\n### Compacting the output\n\n생성되는 연관 규칙이 너무 많기에 이를 압축하는 방식도 있다.\n\n1. Maximal frequent itemsets\n  threshold 기준으로 압축한다.\n2. Closed itemsets\n  support 기준으로 압축한다.\n\n다음 표를 보면서 이해해보자.\n(Yes인 경우에만 연관 규칙을 출력한다는 뜻이다)\n\n| Itemset | Support | Maximal | Closed |\n| --- | --- | --- | --- |\n| A | 4 | No | No |\n| B | 5 | No | Yes |\n| C | 3 | No | No |\n| AB | 4 | Yes | Yes |\n| AC | 2 | No | No |\n| BC | 3 | Yes | Yes |\n| ABC | 2 | No | Yes |\n**Threshold = 3**\n\n`Maximal 기준`\n- C를 보면 support가 threshold보다 크지만 출력하지 않는다.\n그 이유는 C의 superset BC가 `frequent 해서` 이미 출력하기 때문에 중복해서 출력하지 않는 것이다.\n- 반대로 AB를 보면 support가 threshold보다 커서 출력한다.\n그 이유는 AB의 superset ABC가 `frequent 하지 않기 때문`에 출력해야하기 때문이다.\n\n\n`Closed 기준`\n- C를 보면 support가 threshold보다 크지만 출력하지 않는다.\n그 이유는 C의 superset BC의 `support와 같기 때문`에 출력하지 않는 것이다.\n- 반대로 AB를 보면 support가 threshold보다 커서 출력한다.\n그 이유는 AB의 superset ABC의 `support가 보다 작기 때문`에 출력하는 것이다.","slug":"univ_mmds/mid_04","readingMinutes":11,"wordCount":1147},{"title":"Frequent Itemset","description":"빈발 항목 집합을 구하는 방법을 알아봅니다.","icon":"","image":"","tags":["Frequent Itemset","A-Priroi","PCY","Random Sampling","SON","Toivonen"],"draft":false,"date":"2023-10-19 / 16:33","content":"\n## Naive Algorithm\n\n우선 나이브한 방법으로 빈발 항목 집합을 찾는 방법부터 알아보자.\n처음에는 frequent pair를 찾는 것을 목표로 하고, 이후에 원소의 개수가 더 많은 집합을 찾는 방식으로 확장하자.\n\n간단하게 요약하면 아래의 두 단계에 걸쳐 모든 pair를 생성한다.\n\n1. 가능한 모든 조합의 쌍 생성\n  n개의 아이템이 들어있는 Basket에서는 `n(n-1)/2` 개의 조합 쌍이 생성된다.\n2. 해당 조합 쌍이 동시에 등장하는 경우 1씩 카운트하며 개수를 센다.\n\n이 방식은 구현이 제일 간단하지만 치명적인 문제가 있다.\n개수를 `4bytes`의 int형으로 저장한다고 가정하면 n개의 아이템이 존재하는 Basket에 대해 `2n(n-1)bytes`의 메모리 공간이 할당되어야 하는데, 이런 크기의 메모리 공간을 할당할 수 없을 뿐더러, 존재하지도 않은 페어의 메모리 공간을 할당해야만 하는 문제점이 있다.\n\n### Triples\n\n이런 한계를 극복하기 위해 원소를 triples로 관리하는 기법도 있다.\n`[i, j, c]` 로 관리하는 기법인데, **\\\"\\{i, j\\} 페어가 c번 등장함\\\"** 이라는 의미로 관리하는 것이다.\n이렇게 하면 하나의 페어당 12bytes가 들어가긴 하지만, 존재하지도 않은 페어에 대한 메모리 공간 할당은 방지할 수 있다.\n\n하지만 메모리 주소 관리를 위해 별도의 `해시 테이블`을 할당해야 하기에 그다지 메리트가 크지는 않다.\nTriples 방식이 더 효율적으로 작동하기 위해서는 가능한 모든 페어 조합 수의 1/3 수준으로 실제로 등장하는 페어수가 존재해야 한다.\n\n---\n\n## A-Priori Algorithm\n\n페어가 메인 메모리에 올라갈 정도로 적다면 나이브한 방식을 사용하는것이 좋다.\nBasket을 한 번만 읽어도 되는, 1pass만에 빈발 항목 집합을 찾을 수 있으니 속도가 빠르기 때문이다.\n\n\u003ctip\u003e\n  `pass`\n  Basket(파일)을 처음부터 끝까지 읽는 횟수로, Disk I/O의 cost가 큰 만큼 pass 횟수에 따라 알고리즘의 성능을 평가하는 요소로 작동한다.\n\u003c/tip\u003e\n\n하지만, 그렇지 않은 대다수의 경우에는 다른 방식을 고안해야 한다.\nA-Priori 알고리즘의 경우에는 2pass로 pair를 찾을 수 있지만, 그 대신 메모리 효율성이 극대화되어 매우 큰 파일도 메모리에 적재할 수 있다.\n하지만 이게 어떻게 가능한 것일까?\n\n기본적인 아이디어는 이렇다.\n이 파일에는 아이템이 **a, b, c** 이렇게 존재한다고 해보자.\n만약 **\\{a, b\\}** 가 10번 등장했다면, 진 부분집합 **\\{a\\}, \\{b\\}** 역시 10변 이상 등장했을 것이다.\n반대로 말하면 **\\{a\\}, \\{b\\}** 가 10번도 안나왔다면, **\\{a, b\\}** 역시 10번도 안나올 것이다.\n\n따라서 빈발 항목 집합을 세기 전에 우선 threshold보다 큰 경우에만 빈번하다고 기준을 정의하고 시작한다.\n\n### Pass 1\n\npass 1에서는 우선 파일을 읽어보며 개별적인 아이템 개수부터 세어본다.\n이 때, 아이템 개수가 threshold보다 큰 경우에만 다음 pass에서 고려하게 된다.\n\n![231019-205437](/posts/mid_03/231019-205437.png)\n\n참고로 pass 2에서 빈번하게 등장한 아이템에 접근하기 위해 빈번하게 등장한 아이템들의 주소를 저장하기 위해 메모리 공간을 약간 할당한다.\n\n### Pass 2\n\npass 2에서는 pass 1에서 통과한 아이템들을 이용해서 페어를 생성한다.\n그리고 나이브한 방법과 마찬가지로 파일을 읽으면서 등장 횟수를 카운트한다.\n\n이 방식이 훨씬 효율적인게, 만약 pass 1에서 읽어야 할 아이템의 개수가 1/10 으로 줄었다면,\npass 2에서 생성되는 pair의 개수는 1/100 수준으로 줄어든다.\n따라서 메모리 효율성이 거의 100배 증가하는 것이다.\n\n### Frequent Triples\n\npair에서 확장되어 원소의 개수가 3개, 4개인 경우의 처리 방식도 알아보자.\n근데 사실 별 거 없다. 그냥 앞에서 봤던 방법의 반복이다.\n\n빈번하게 등장한 페어를 이루는 아이템들로 triple을 만든다.\n이후 각 triple의 진 부분집합이 빈번하게 등장한 pair인 경우에만 파일을 읽어보며 세어보면 된다.\n\n예시들 들어 이해해보자.\n\n\u003e $C_1$ = \\{\\{b\\} \\{c\\} \\{j\\} \\{m\\} \\{n\\} \\{p\\}\\}\n\u003e threshold보다 많이 등장한 원소는 아래 4개라고 해보자.\n\u003e $L_1$ = \\{b, c, j, m\\}\n\u003e $L_1$을 이용해서 다름 pass 진행\n\u003e \n\u003e $C_2$ = \\{\\{b, c\\} \\{b, j\\} \\{b, m\\} \\{c, j\\} \\{c, m\\} \\{j, m\\}\\}\n\u003e threshold보다 많이 등장한 원소는 아래 4개라고 해보자.\n\u003e $L_2$ = \\{\\{b, c\\} \\{b, m\\} \\{c, j\\} \\{c, m\\}\\}\n\u003e $L_2$을 이용해서 다름 pass 진행\n\u003e\n\u003e $C_3$ = \\{\\{b, c, m\\} \\{b, c, j\\} \\{b, m, j\\} \\{c, m, j\\}\\}\n\u003e 이 때 \\{b, c, j\\} \\{b, m, j\\} \\{c, m, j\\}의 부분 집합은 $L_2$에 포함되지 않으니 세어볼 필요 없음 (반드시 threshold보다 적게 등장할 것)\n\n즉, A-Priori 알고리즘은 k-pass 단계에서 k-tuple의 집합을 생성하게 되는데,\n일반적으로 k=2일 때, 메모리 사용량이 가장 많다.\n\n---\n\n## PCY Algorithm\n\nPark-Chen-Yu 알고리즘으로 A-Priori 알고리즘의 pass 1에서 메모리의 빈 공간을 활용하여 탐색 효율을 높인 알고리즘이다.\n그 이후의 과정은 A-Priori와 같으니, pass 1에서의 메모리 관리 방법에 대해서만 알아보자.\n\n![231019-211632](/posts/mid_03/231019-211632.png)\n\n### Bucket's Hash Table\npass 1에서 개별적인 아이템 등장 횟수를 카운트 할 때, 동시에 아이템으로 만들 수 있는 pair의 개수도 동시에 카운트 하는 것이다.\n이 때 페어를 해싱하여 버킷으로 만들고, 그 버킷을 Hash table for pairs에 최대한 가득 채운다.\n\n예로 들어 a, b, c의 개수를 세어보면서 \\{a, b\\} \\{b, c\\} \\{a, c\\}를 해싱한 주소에 등장할 때 마다 1씩 카운트 하는 것이다.\n만약 \\{a, b\\} \\{a, c\\} 의 해시 결과가 같은데, 해당 pair을 해시한 곳의 값이 threshold보다 작다면 pass 2에서 \\{a, b\\} \\{a, c\\} 를 셀 필요가 없다는 뜻이된다.\n\n그럼에도 불구하고 pass 2에서는 파일을 한 번 더 탐색을 해야만 하는데, 버킷만으로 pair가 threshold보다 크다고 단정지을 수 없는 이유는 해시의 특성 때문이다.\n다른 입력에 대해 같은 출력이 나올 수 있는 해시는 여러 pair가 하나의 버킷에 카운트 될 수 있음을 시사한다.\n즉, 버킷이 threshold보다 작다면 해싱후 그 버킷을 가리키는 pair는 세어볼 필요가 없지만,\nthreshold보다 큰 경우에는 threshold보다 작은 값이 여러개 모여 threshold보다 커졌을 가능성이 있기 때문에 다시 파일을 읽어보며 확인을 해봐야 하는 것이다.\n\n### Bit-vector (bitmap)\n\n아무튼, pass 1에서 pair의 해싱을 통한 버킷이 저장된 해시 테이블을 만들어 추후 파일 탐색시 검사해야 할 pair의 수를 줄이게 되는데,\n해시 테이블을 암축하지 않으면 pass 2로 넘어갈 수 없다. (메모리에 꽉 차게 할당했기 때문)\n어떻게 압축해야 필요한 정보를 유지할 수 있을까?\n\n우리가 필요한 정보는 n번째 버킷이 threshold보다 많이 등장했는지(1) 아닌지(0) 이다.\n따라서 해시 테이블에 n번째 버킷이 threshold보다 크다면 1, 아니면 0으로 압축할 수 있다.\n4bytes(32bits)에서 1bit로 압축되는 셈이다.\n\n그리고 이제 pass 2에서 \\{b, c\\}를 파일에서 몇 번 등장하는지 세어보기 전에 우선 해싱을 하여 bitmap에 해당 해시의 위치가 1이면 실제로 세어보고 0이면 셀 필요 없이 threshold보다 작다는 뜻이 된다.\n\n---\n\n## Random Sampling\n\n지금까지 알아본 빈번 항목 집합을 찾는 방식은 k-tuple의 개수를 세어보기 위해서는 k-pass를 거쳐야만 했다.\n이번부터 알아볼 알고리즘은 단 2-pass만에 세어볼 수 있는 방식을 알아볼 것이다.\n\n랜덤 샘플링 기법은 파일을 메모리에 올릴 수 있을 만큼만 적당히 샘플링 해와서 모든 카운트 과정을 메모리 내부에서 해결하는 것이다.\n하지만, 샘플링 비율만큼 실제 데이터 양도 줄어들기 때문에 threshold도 샘플링 비율만큼 줄여서 측정한다.\n\n하지만 이 경우에는 False Positive, False Negative 문제가 발생할 수 있다.\n\n\u003ctip\u003e\n  `False Positive`\n  실제로는 빈번하지 않은데 샘플링된 데이터에서는 빈번하다고 나온 경우\n  \u003cbr /\u003e\n  `False Negative`\n  실제로는 빈번한데 샘플링된 데이터에서는 빈번하지 않다고 나온 경우\n\u003c/tip\u003e\n\nFalse Positive의 경우에는 pass 2에서 빈번 집합의 경우 실제로 빈번하게 등장하는지 검사해 봄으로써 해결할 수 있다.\n하지만 False Negative의 경우에는 찾아낼 방법이 없다.\n\nthreshold를 더 작게 설정하는 방식으로 False Negative가 나올 확률을 줄일수는 있겠지만, 해결책은 아니다.\n\n---\n\n## SON Algorithm\n\n기본적인 방식은 랜덤 샘플링과 동일하다.\n차이점은 SON Algorithm음 모든 파일을 다 읽는다는 것이다.\n즉, 한 번 읽을 때 샘플링한 작은 청크를 읽지만, 이 과정을 여러번 반복해서 전체 파일을 읽어온다는 차이점이다.\n\n이 방식은 False Negative도 없다고 확신할 수 있다.\n왜냐하면 실제로 빈번한 집합이라면 읽어오는 모든 청크에 대해 최소 1개의 청크에서는 빈번하게 등장할 것이기 때문이다.\n\n하지만 모든 청크를 결국 메모리에 1번은 올려야 하기 때문에 시간이 오래 걸린다는 단점이 있다.\n\n---\n\n## Toivonen's Algorithm\n\n시작은 랜덤 샘플링과 같다.\n하지만 랜덤 샘플링에서 샘플을 파일의 1/100 수준으로 샘플링 한다면 threshold도 1/100 수준으로 설정할텐데 이 경우에는 좀 넉넉하게 1/125 정도로 설정한다는 차이가 있다.\n\n추가로 pass 1에서 Negative Border 라는 개념을 도입하여 False Negative를 방지한다.\n이 외에는 랜덤 샘플링 방식과 동일하다.\n\n### Negative Border\n\nNegative Border에 포함되는 집합은 본인은 빈번하지 않지만, 본인의 진 부분집합은 빈번하게 등장한 경우 포함된다.\n예시를 들어 알아보자.\n\n\u003e 모든 집합이 **\\{\\} \\{a\\} \\{b\\} \\{c\\} \\{a b\\} \\{b c\\} \\{a c\\} \\{a b c\\}** 만 존재한다고 가정해보자.\n\u003e\n\u003e `Case 1` **\\{a\\} \\{b\\}** 만 빈번하게 등장함 \u0026rarr; **\\{a b\\} \\{c\\}** 를 Negative Border로 추가.\n\u003e **\\{a b\\}** 의 경우에는 본인의 진 부분집합이 빈번하게 등장했으니 본인도 빈번하게 등장했을 가능성이 있다.\n\u003e 따라서 추가 검사를 진행해봐야 하는 것이다.\n\u003e **\\{c\\}** 의 경우에는 진 부분집합이랄게 없기 때문에 추가 검사를 진행해 봐야 하는 것이다.\n\u003e\n\u003e `Case 2` **\\{a\\} \\{b\\} \\{c\\}** 만 빈번하게 등장함 \u0026rarr; **\\{a b\\} \\{b c\\} \\{a c\\}** 를 Negative Border로 추가.\n\u003e 빈번하게 등장한 집합의 다음 스탭만 의심해야지, 나아가서 **\\{a b c\\}** 까지는 검사하지 않는다.\n\u003e\n\u003e `Case 3` **\\{\\}** (아무것도 빈번하지 않음) \u0026rarr; **\\{a\\} \\{b\\} \\{c\\}** 를 Negative Border로 추가.\n\u003e 샘플링을 너무 못했을 가능성이 높기에 일단 원소 1개짜리는 추가 검사를 해봐야 한다.\n\n이후 pass 2에서 빈번 항목 집합과 Negative Border에 대해 검사를 진행한다.\nFalse Positive의 경우에는 랜덤 샘플링과 마찬가지로 여기서 걸린다.\n\nFalse Negative의 경우에는 Negative Border에 포함된 집합을 검사하면서 나오게 될텐데,\n만약 Negative Border에 있는 집합이 실제로는 빈번하게 등장했다면 False Negative가 존재한다는 뜻이 된다.\n이런 경우에는 다른 샘플로 pass 1부터 다시 시도하게 된다.\n따라서 정확히는 2 pass안에 끝나지 않을 수는 있다.","slug":"univ_mmds/mid_03","readingMinutes":17,"wordCount":1340},{"title":"Spark 개념","description":"MapReduce 모델의 확장판, Spark에 대해 알아봅니다.","icon":"","image":"","tags":["Spark","RDD"],"draft":false,"date":"2023-10-19 / 15:04","content":"\n## MapReduce 문제점\n\n기존 MapReduce 모델의 문제점은 데이터 복제, Disk I/O 등의 오버헤드가 크다는 점이었다.\n\n하지만, ranks를 2개(map, reduce)로 나누어 관리하여 한 반향으로 데이터를 흐르게 만들어 \n시스템이 다운될 경우 재시작의 효율성이 올라가는 점도 고려하여 구현되었다.\n(단방향으로 흐르기에 처리 실패가 발생한 지점부터 다시 처리하면 됌)\n\n그러나, rank가 2개라 모든 문제를 map-reduce 패턴으로 묘사하기가 쉽지 않다는 점도 있었다.\n\n## Spark\n\n스파크는 오늘날 가장 많이 쓰이는 Data-Flow system으로 MapReduce에 비해 여러 부분에서 개선이 이루어졌다.\n\n1. rank를 2개로 제한하지 않음.\n  map, reduce 외의 tasks, ranks와 같은 여러 단계를 허용함.\n2. Map, Reduce 외의 별도의 유용한 함수 제공.\n3. 바로 디스크에 중간 결과를 저장하지 않고, 메모리에 캐싱하기도 함.\n  적당한 크기의 중간 결과는 메모리에 캐싱하기에 속도로 보다 빠르다\n4. MapReduce와 마찬가지로 단방향으로 데이터가 흐르는 DAGs 형식을 따른다.\n  (Directed Acycle Graphs)\n5. 여러 언어와 api를 제공하고, 오픈소스이며 호환성도 좋다.\n\n\u003ctip\u003e\n  `vs. Hadoop MapReduce`\n  Spark이 더 빠른대신 메모리 사용량도 더 많다.\n  Spark에서 제공하는 api가 더 많아 사용하기에 더 편하다.\n  둘 다 map-reduce 부분에서는 성능차이는 없다.\n\u003c/tip\u003e\n\n### RDD\n\nResilient Distributed Dataset의 약어로 Spark에서는 큰 데이터를 RDD 라는 청크로 쪼개어 key-value 페어로 저장한다.\n즉, RDD가 여러개의 클러스터에 분산 저장되는데, 가장 큰 특징은 RDD는 **읽기 전용**이라는 점이다.\n그렇기에 **파일로부터** RDD를 얻어오기도 하며, **RDD로부터** 새로운 RDD를 만드는 식으로 작업된다.\n또한, RDD는 일반적으로 **메모리에 캐싱**되며, 필요에 따라 디스크에 저장하기도 한다.\n\n\u003ctip\u003e\n  `DataFrame`\n  RDD와는 다르게 데이터들이 테이블 형태로 저장되먀 column별로 이름도 있다.\n  \u003cbr /\u003e\n  `DataSet`\n  DF의 상위호환으로 타입 세이프, 객체지향 프로그래밍 인터페이스를 지원하며, 컴파일 타임에 에러도 잡아낼 수 있다.\n\u003c/tip\u003e\n\n### Transformations\n\nRDD에서 새로운 RDD로의 변환을 Transformations라고 하는데, `map`, filter, join, union, intersection, distinct와 같은 변환이 있다.\n\n중요한 점은 이러한 변환은 `Lazy evaluation` 하게 동작한다는 점인데, 이게 무슨 말이냐면\n뭔가를 지시를 해도 실제로 수행을 하지 않는다는 뜻이다.\n지시를 하면 지시 사항을 기록하다가 사용자가 실제로 값을 요청시 기록된 요청을 최적화 알고리즘을 적용하여 한 번에 실행하기 때문에 효율적으로 동작하게 된다.\n\n### Actions\n\nLazy evaluation 중 실제로 동작을 수행하게 하는 명령이다.\ncount, collect, `reduce`, save 와 같은 명령이 있다.\n\n### Task Scheduler (General DAGs)\n\n![231019-153939](/posts/mid_02/231019-153939.png)\n\nSpark 스케쥴러는 스마트하게 동작하는데 그 특징은 다음과 같다.\n\n1. 파이프라인 함수를 제공한다.\n  Stage 1, Stage 2와 같이 여러 단계를 추상화하여 하나의 단계로 취급해 성능을 최적화 한다.\n2. 감당 가능한 크기의 데이터는 캐싱한다.\n  데이터를 캐싱하여 재사용성을 높이고, 속도도 빠르게 한다.\n3. key값 분포상태를 파악하여 불필요한 shuffle을 피한다.\n  일례로 A \u0026rarr; B로 넘어가며 키 값이 정렬되었으니, B \u0026rarr; F로 넘어갈때는 불필요한 셔플을 하지 않음.\n\n---\n\n## methods (real-code)\n\n\u003cnotice\u003e\n  Finding Similar Item까지 본 뒤에 코드를 보는 것이 더 좋습니다.\n\u003c/notice\u003e\n\n### (Spark) DataFrame\n\n- `printSchema()`\n  해당 데이터프레임의 스키마를 보여줍니다.\n\n- `take(N)`\n  N개의 행을 보여줍니다.\n\n- `show(n=N, truncate=boolean)`\n  N개의 행을 표 형태로 정리하여 보여줍니다.\n  truncate=False시 ...으로 요약되지 않은 전체 문자열을 출력합니다.\n\n- `select(columnName[])`\n  columnName에 해당하는 column들만 남긴 spark dataframe 객체를 반환합니다.\n\n- `selectExpr(sqlSelect[])`\n  sql select문에서 사용할 수 있는 문법을 이용하여 해당 column을 가져온 뒤 dataframe 객체로 반환합니다.\n\n- `sort(columnName, ascending=boolean)`\n  columnName을 기준으로 오름차순 정렬합니다.\n  ascending=False시 내림차순으로 정렬합니다.\n\n- `join(dataframe, this.column == dataframe.column)`\n  본인(this) dataframe과 인자로 넣은(dataframe) dataframe의 공통 column을 기준으로 natural join을 수행 후 dataframe 객체를 반환합니다.\n  단, 일반 sql과 다르게 공통 column이 하나만 표시되는게 아닌 중복되서 표시됩니다.\n\n- `toPandas()`\n  데이터가 pandas로 옮길 수 있을 만큼 작다면, spark dataframe에서 pandas dataframe으로 변환합니다.\n\n- `groupBy(columnName[])`\n  배열에 들어있는 모든 columnName을 기준으로 그루핑한 후 GroupedData 객체를 반환합니다.\n\n- `rdd`\n  spark dataframe에서 RDD 인스턴스를 생성합니다.\n\n### (spark) GroupedData\n\n- `count()`\n  각 그룹의 행의 개수를 카운트하여 count column을 만들고 dataframe 객체를 반환합니다.\n\n- `agg(column)`\n  column에 대해 집계함수를 수행합니다.\n  아래와 같이 응용하여 사용하면 item을 직렬화할 수 있습니다.\n  alias를 이용해 column의 이름을 변경할 수 있습니다.\n\n  ```python:.py\n  df = orders_joined.groupBy('order_id').agg(collect_set('product_name').alias('items'))\n  df.show()\n  ```\n\n  | order_id | items |\n  |---|---|\n  | 1 | [Bag of Organic B... ] |\n  | 96 | [Roasted Turkey, ... ] |\n  | 112 | [Umcka Elderberry... ] |\n\n### RDD (PipelinedRDD)\n\n- `collect()`\n  RDD를 출력합니다.\n\n- `map(function(row))`\n  RDD에 대해 function를 적용합니다.\n  파라미터로 RDD의 row가 전달됩니다.\n\n  ```python:.py\n  all_locations = jun_29_operations.rdd.map(lambda row: (row.TakeoffLocation, 1))\n  all_locations.take(3) \n  ```\n\n  적용 후 PipelinedRDD 객체를 반환합니다.\n\n  \u003e [('TAKHLI', 1), ('DANANG', 1), ('CONSTELLATION', 1)]\n\n- `flatMap(function)`\n  map과 동일한 기능을 수행합니다.\n  단, 결과가 1차원 배열만을 반환합니다.\n\n  ```python:.py\n  RDDs1 = RDDs1.flatMap(lambda line: line.split(' '))\n  ```\n\n- `reduceByKey(function(number, number))`\n  PipelinedRDD에 대해 function을 적용합니다.\n  파라미터로 2개의 key-value pair에 대해 value가 전달됩니다.\n\n  ```python:.py\n  locations_counts_rdd = all_locations.reduceByKey(lambda a, b: a+b).sortBy(lambda r: -r[1])\n  locations_counts_rdd.take(3)\n  ```\n\n  적용 후 PipelinedRDD 객체를 반환합니다.\n\n  \u003e [('CONSTELLATION', 87), ('TAKHLI', 56), ('KORAT', 55)]\n\n- `sortByKey(ascending=boolean)`\n  RDD key-value pair에 대해 key값을 기준으로 정렬합니다.\n\n- `filter(function)`\n  function이 true를 반환하는 값만 통과시켜 RDD객체를 반환합니다.\n\n### spark instance\n\n- `sql(queryString)`\n  sql문법을 queryString를 실행한 후 spark dataframe 객체를 반환합니다.\n\n- `createDataFrame(RDD)`\n  RDD를 spark dataframe 인스턴스로 변환합니다.\n  단, 인스턴스의 Row에 따라 Column의 이름이 결정됩니다.\n\n  예로 들어 reduceByKey 이후 바로 createDataFrame 생성시 Row의 이름이 작성되지 않아 Column명이 _1, _2와 같은 식으로 초기화됩니다.\n\n  따라서 아래의 코드로 이름을 지정하는 것이 시각화에 도움이 됩니다.\n\n  ```python:.py\n  locations_counts_with_schema = locations_counts_rdd.map(lambda r: Row(TakeoffLocation=r[0], MissionsCount=r[1]))\n  locations_counts = spark.createDataFrame(locations_counts_with_schema)\n  locations_counts.show()\n  ```\n\n- `sparkContext.textFile(path)`\n  path에 해당하는 파일을 읽은 뒤 RDD 인스턴스를 반환합니다.\n\n### FPGrowth\n\n- `FPGrowth(itemsCol=columnName, minSupport=number, minConfidence=number)`\n  dataframe의 columnName에 대해 연관규칙을 생성하는 FPGrowth 인스턴스를 생성합니다.\n  이 때 minSupport, minConfidence를 설정해야 합니다.\n\n- `fit(dataframe)`\n  생성된 FPGrowth 인스턴스에 대해 dataframe을 적용하여 FPGrowthModel을 만듭니다.\n\n- `freqItemsets, associationRules`\n  생성된 FPGrowthModel에 대해 `빈발 항목 집합`과 `연관 규칙`을 생성합니다.\n\n  ```python:.py\n  # grouping with order_id\n  df = orders_joined.groupBy('order_id').agg(collect_set('product_name').alias('items'))\n\n  # change to spark dataframe\n  df = spark.createDataFrame(df.toPandas(), ['id', 'items'])\n\n  # analysis using FP-Growth\n  from pyspark.ml.fpm import FPGrowth\n  fpGrowth = FPGrowth(itemsCol='items', minSupport=0.01, minConfidence=0.5)\n  model = fpGrowth.fit(df)\n\n  num_freqItemsets1 = model.freqItemsets.count()\n  num_associationRules1 = model.associationRules.count()\n  ```","slug":"univ_mmds/mid_02","readingMinutes":10,"wordCount":871},{"title":"분산 파일관리 시스템","description":"분산 파일관리 시스템에 관련한 기초 지식을 배웁니다.","icon":"","image":"","tags":["분산 파일관리","Chunk","Map","Reduce"],"draft":false,"date":"2023-10-19 / 14:13","content":"\n## 분산 파일관리 시스템\n\n방대한 데이터 보관, 또는 백업을 위해 데이터를 분산 저장하는 경우 여러대의 컴퓨터를 연결하여 하나처럼 동작하도록 구성해야 한다.\n\n하지만, 실시간으로 데이터를 처리해야 하는 부분에 대해서는 데이터를 복사하여 네트워크 전송을 통해 처리하는 방식은 네트워크 속도가 상대적으로 매우 느리기 때문에 문제가 있다.\n\n이런 경우에는 데이터를 옮기는 것이 아닌, 필요한 데이터를 보관하는 컴퓨터에게 `연산 작업을 맡기고`, `동기화는 주기적`으로 하는 방식을 사용하는 것이 좋다.\n\n이렇게 데이터를 분산하여 저장하는 시스템을 분산 파일관리 시스템이라 불리고, `Spark`, `MapReduce`와 같은 시스템이 이런 방식을 사용한다.\n하지만, 이런 파일관리 시스템은 1개의 머신만을 사용하는 시스템에 비해 속도가 느리기 때문에 아래의 조건을 만족하는 경우에만 사용하는 것이 바람직하다.\n\n1. 데이터 양이 매우 많은 경우\n2. 데이터의 수정은 왠만하면 일어나지 않는 경우\n3. 읽고 이어쓰기가 빈번하게 일어나는 경우\n\n### Chunk servers\n\n16~64MB 정도의 파일을 하나의 Chunk로 묶어 관리하는데, 이런 청크를 2, 3배 중복으로 다른 물리적 공간에 저장하는 식으로 분산 관리를 하게 되는데,\n이런 다른 물리적 공간을 Chunk server 라고 부른다.\n\n![231019-143146](/posts/mid_01/231019-143146.png)\n\n따라서 여러 청크서버에 동일한 청크가 분산 저장되어 있기 때문에 하나의 청크서버가 다운되더라도 데이터는 온전히 남는다.\n\n또한, 위에서 언급했 듯, 데이터를 움직이는 것이 아닌 연산을 일임한다고 했는데,\n서버의 과부화 방지를 위해 각 청크서버가 특정 청크에 필요한 연산을 전담하여 수행하고 결과를 반환한다.\n\n### Master node\n\n파일이 저장된 위치인 메타데이터를 저장한 서버이다.\n따라서 파일 엑세스 요청이 들어오면, 일단 모든 요청은 마스터 노드로 향하여 요청한 파일이 어느 청크서버에 있는지 알아낸다.\n이후 그 요청에 대한 응답은 청크서버로 직접 엑세스되어 청크서버에서 요청이 처리되게 된다.\n\n여기서 드는 의문점은 **왜 마스터 노드가 직접 데이터를 전달하지 않는가**이다.\n그 이유는 마스터 노드에 엑세스가 제일 많은데 데이터까지 전달하게 되면 과부화가 걸리기 때문에 그렇다.\n\n---\n\n## MapReduce\n\n초창기 분산 컴퓨팅 프로그래밍 모델이다.\n이 기술의 구현체로 Hadoop, Spark, Flink 등이 있는데, 이 모델의 동작 과정을 살펴보자.\n\n### overview\n\n![231019-144045](/posts/mid_01/231019-144045.png)\n\nMap, Group by Key(보통 자동으로 일어남), Reduce의 3단계로 이루어지는데, 각 단계에서 어떻게 일이 처리되는지 알아보자.\n\n참고로 Map, Reduce의 과정은 하나의 머신에서 일어나는 것이 아닌, 다중 머신에서 병렬적으로 일어난다는 점을 기억하자.\n\n### Map\n\n우선 개발자가 Map 함수를 작성한다.\nMap 함수는 읽은 데이터를 처리하기 위해 `key-value pair`로 변환하는 작업을 수행하게 된다.\n\n하지만 MapReduce에서 사용 가능한 규격으로 데이터를 처리해야 하는데 이 과정이 좀 까다로울 수 있다.\n\n추가로 이 이후에 생성된 key값을 이용해서 해싱같은 방식을 이용해 생성된 페어를 Reduce를 수행할 컴퓨터로 보내게 된다.\n\n### Group by Key\n\nMap으로 얻어진 pair을 key값을 중심으로 정렬하고, 중복된 key들에 대해 value 들을 배열로 묶어주는 일을 처리한다.\n대부분의 시스템에서 이 과정은 자동으로 일어나기 때문에 개발자가 개입할 부분이 상대적으로 적다.\n\n하지만 성능적으로 이 단계에서 `병목현상`이 발생할 수 있다.\nMap, Reduce는 파일이나 청크를 한 번만 탐색하면 끝나지만($O(n)$),\nGroup by Key는 정렬 및 그루핑을 해야하기 때문에 상대적으로 느리기 때문이다($O(n log(n))$).\n\n### Reduce\n\n개발자가 개발한 Reduce 함수를 이용해 배열로 되어있는 values들을 하나로 합쳐준다.\n이 과정이 종료되면 유니크한 key-value pairs가 생성될 것이다.\n\n### Dealing with Failures\n\n`Map worker`가 다운된 경우에는 일이 진행 중이든 완료되었든 간에 무조건 다른 worker에게 일을 처음부터 재시작하게 한다.\n왜냐하면 일이 완료된 경우 그 결과를 시간 비용의 문제 때문에 `로컬 디스크`에 데이터를 저장하기 때문이다.\n\n반면에 `Reduce worker`가 다운된 경우에는 일이 진행 중인 경우에만 다른 worker에게 일을 처음부터 재시작하도록 한다.\nReduce일이 완료된 경우, 그 결과는 중요한 데이터이니 `분산 저장`하기 때문에 완료된 경우에 다운되어도 재시작할 필요가 없는 것이다.\n\n### Cost Measure\n\nMapReduce 내부적으로 사용되는 알고리즘의 비용을 측정해보자.\n\n1. Communication cost\n  모든 프로세스의 **I/O bytes**\n\u003e (아래 항목을 모두 더하면 됌)\n\u003e - 입력 파일 사이즈\n\u003e - 2 $\\times$ Map process \u0026rarr; Reduce process 로 이동한 파일 사이즈 (2를 곱한 이유는 Map, Reduce 2개이기 때문)\n\u003e - Reduce process에서 나온 출력 사이즈의 합\n2. Elapsed communication cost\n  Communication cost 중 가장 큰(peak) 비용 (정확히는 파일 사이즈가 가장 큰 입력 파일 기준)\n  \u0026rarr; 이 비용이 작을수록 병렬(분산)화가 잘 되었다는 뜻이다.\n3. (Elapsed) Computation cost\n  1, 2와 동일, 단, 기준이 byte 단위가 아닌 **I/O 시간** 단위 기준임.\n\n\u003ctip\u003e\n  대부분의 클라우드 서비스는 Communication cost 기준으로 비용이 청구됌.\n  (Elapsed는 기준은 아님)\n\u003c/tip\u003e\n\n---\n\n## Problems Suited for MapReduce\n\nSpark과 같은 라이브러리 말고 MapReduce만 사용하기에도 충분한 문제들을 알아보자.\n보통 데이터 `순차탐색` 문제나, `비 실시간`으로 처리되어도 상관없는 여유로운 작업에 적합하다.\n\n### Host size\n\nurl로 부터 host를 추출하고, 해당 호스트에서 제공하는 많고 거대한 데이터의 총 크기(용량)을 알고싶을 때 사용할 수 있다.\n\n\u003e (host1, size1)\n\u003e (host2, size2)\n\u003e ...\n\n### Language Model\n\n언어 모델 개발시에도 이용할 수 있다.\n\n\u003e 5개의 단어 뭉치가 문서에서 얼마나 등장하는지\n\u003e (5-word seq, count)\n\n이런 경우도 map, reduce로 간단하게 만들 수 있다.\n\n### join\n\njoin 연산도 MapReduce로 할 수 있다.\n\n![231019-155529](/posts/mid_01/231019-155529.png)\n\n$R(A,B) \\Join S(B,C)$를 `natural join`한다로 해보자.\n\n\u003e `Map`\n\u003e 1. join에 사용될 column을 key로 사용하는 key-value 페어로 만든다.\n\u003e\n\u003e   ($b_1$, ($a_1$, R))\n\u003e   ($b_1$, ($a_2$, R))\n\u003e   ($b_2$, ($a_3$, R))\n\u003e   ($b_3$, ($a_4$, R))\n\u003e   ($b_2$, ($c_1$, S))\n\u003e   ($b_2$, ($c_2$, S))\n\u003e   ($b_3$, ($c_3$, S))\n\u003e\n\u003e 2. 키값을 해싱한 후 Reduce 프로세스로 보낸다.\n\n\u003e `Reduce`\n\u003e 1. Reduce를 진행한다.\n\u003e\n\u003e   ($h(b_1)$, [($a_1$, R), ($a_2$, R)])\n\u003e   ($h(b_2)$, [($a_3$, R), ($c_1$, S), ($c_2$, S)])\n\u003e   ($h(b_3)$, [($a_4$, R), ($c_3$, S)])\n\u003e\n\u003e 2. values에 R-S로 되어있는 value들만 묶어서 (a,b,c)로 출력한다.\n\u003e   (R-R, S-S를 제외하기 위해서 value pair에 R, S를 포함시킨 것이다)\n\u003e\n\u003e   ($a_3$, $b_2$, $c_1$)\n\u003e   ($a_3$, $b_2$, $c_2$)\n\u003e   ($a_4$, $b_3$, $c_3$)\n\n### Not Suited\n\n적합하지 않은 문제상황은 뭐가 있을까?\ngraph 탐색이나, ML에서의 `비 순차탐색` 하는 경우에는 적합치 않다.","slug":"univ_mmds/mid_01","readingMinutes":11,"wordCount":837},{"title":"대학 - 빅데이터 처리 및 응용","description":"3학년 2학기 빅데이터 처리 및 응용 수업 아카이브","icon":"","image":"","tags":[],"draft":false,"date":"2023-09-06 / 12:20","content":"","slug":"univ_mmds/index","readingMinutes":0,"wordCount":1}],"mdx":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    p: \"p\",\n    code: \"code\",\n    br: \"br\",\n    ol: \"ol\",\n    li: \"li\",\n    h3: \"h3\",\n    img: \"img\",\n    strong: \"strong\",\n    hr: \"hr\",\n    math: \"math\",\n    semantics: \"semantics\",\n    mrow: \"mrow\",\n    mi: \"mi\",\n    mo: \"mo\",\n    annotation: \"annotation\",\n    blockquote: \"blockquote\",\n    ul: \"ul\",\n    msub: \"msub\",\n    mn: \"mn\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.h2, {\n      id: \"분산-파일관리-시스템\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#분산-파일관리-시스템\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"분산 파일관리 시스템\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"방대한 데이터 보관, 또는 백업을 위해 데이터를 분산 저장하는 경우 여러대의 컴퓨터를 연결하여 하나처럼 동작하도록 구성해야 한다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"하지만, 실시간으로 데이터를 처리해야 하는 부분에 대해서는 데이터를 복사하여 네트워크 전송을 통해 처리하는 방식은 네트워크 속도가 상대적으로 매우 느리기 때문에 문제가 있다.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"이런 경우에는 데이터를 옮기는 것이 아닌, 필요한 데이터를 보관하는 컴퓨터에게 \", _jsx(_components.code, {\n        children: \"연산 작업을 맡기고\"\n      }), \", \", _jsx(_components.code, {\n        children: \"동기화는 주기적\"\n      }), \"으로 하는 방식을 사용하는 것이 좋다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"이렇게 데이터를 분산하여 저장하는 시스템을 분산 파일관리 시스템이라 불리고, \", _jsx(_components.code, {\n        children: \"Spark\"\n      }), \", \", _jsx(_components.code, {\n        children: \"MapReduce\"\n      }), \"와 같은 시스템이 이런 방식을 사용한다.\", _jsx(_components.br, {}), \"\\n\", \"하지만, 이런 파일관리 시스템은 1개의 머신만을 사용하는 시스템에 비해 속도가 느리기 때문에 아래의 조건을 만족하는 경우에만 사용하는 것이 바람직하다.\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"데이터 양이 매우 많은 경우\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"데이터의 수정은 왠만하면 일어나지 않는 경우\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"읽고 이어쓰기가 빈번하게 일어나는 경우\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"chunk-servers\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#chunk-servers\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Chunk servers\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"16~64MB 정도의 파일을 하나의 Chunk로 묶어 관리하는데, 이런 청크를 2, 3배 중복으로 다른 물리적 공간에 저장하는 식으로 분산 관리를 하게 되는데,\", _jsx(_components.br, {}), \"\\n\", \"이런 다른 물리적 공간을 Chunk server 라고 부른다.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/posts/mid_01/231019-143146.png\",\n        alt: \"231019-143146\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"따라서 여러 청크서버에 동일한 청크가 분산 저장되어 있기 때문에 하나의 청크서버가 다운되더라도 데이터는 온전히 남는다.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"또한, 위에서 언급했 듯, 데이터를 움직이는 것이 아닌 연산을 일임한다고 했는데,\", _jsx(_components.br, {}), \"\\n\", \"서버의 과부화 방지를 위해 각 청크서버가 특정 청크에 필요한 연산을 전담하여 수행하고 결과를 반환한다.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"master-node\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#master-node\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Master node\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"파일이 저장된 위치인 메타데이터를 저장한 서버이다.\", _jsx(_components.br, {}), \"\\n\", \"따라서 파일 엑세스 요청이 들어오면, 일단 모든 요청은 마스터 노드로 향하여 요청한 파일이 어느 청크서버에 있는지 알아낸다.\", _jsx(_components.br, {}), \"\\n\", \"이후 그 요청에 대한 응답은 청크서버로 직접 엑세스되어 청크서버에서 요청이 처리되게 된다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"여기서 드는 의문점은 \", _jsx(_components.strong, {\n        children: \"왜 마스터 노드가 직접 데이터를 전달하지 않는가\"\n      }), \"이다.\", _jsx(_components.br, {}), \"\\n\", \"그 이유는 마스터 노드에 엑세스가 제일 많은데 데이터까지 전달하게 되면 과부화가 걸리기 때문에 그렇다.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"mapreduce\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#mapreduce\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"MapReduce\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"초창기 분산 컴퓨팅 프로그래밍 모델이다.\", _jsx(_components.br, {}), \"\\n\", \"이 기술의 구현체로 Hadoop, Spark, Flink 등이 있는데, 이 모델의 동작 과정을 살펴보자.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"overview\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#overview\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"overview\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/posts/mid_01/231019-144045.png\",\n        alt: \"231019-144045\"\n      })\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Map, Group by Key(보통 자동으로 일어남), Reduce의 3단계로 이루어지는데, 각 단계에서 어떻게 일이 처리되는지 알아보자.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"참고로 Map, Reduce의 과정은 하나의 머신에서 일어나는 것이 아닌, 다중 머신에서 병렬적으로 일어난다는 점을 기억하자.\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"map\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#map\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Map\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"우선 개발자가 Map 함수를 작성한다.\", _jsx(_components.br, {}), \"\\n\", \"Map 함수는 읽은 데이터를 처리하기 위해 \", _jsx(_components.code, {\n        children: \"key-value pair\"\n      }), \"로 변환하는 작업을 수행하게 된다.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"하지만 MapReduce에서 사용 가능한 규격으로 데이터를 처리해야 하는데 이 과정이 좀 까다로울 수 있다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"추가로 이 이후에 생성된 key값을 이용해서 해싱같은 방식을 이용해 생성된 페어를 Reduce를 수행할 컴퓨터로 보내게 된다.\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"group-by-key\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#group-by-key\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Group by Key\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Map으로 얻어진 pair을 key값을 중심으로 정렬하고, 중복된 key들에 대해 value 들을 배열로 묶어주는 일을 처리한다.\", _jsx(_components.br, {}), \"\\n\", \"대부분의 시스템에서 이 과정은 자동으로 일어나기 때문에 개발자가 개입할 부분이 상대적으로 적다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"하지만 성능적으로 이 단계에서 \", _jsx(_components.code, {\n        children: \"병목현상\"\n      }), \"이 발생할 수 있다.\", _jsx(_components.br, {}), \"\\n\", \"Map, Reduce는 파일이나 청크를 한 번만 탐색하면 끝나지만(\", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mi, {\n                    children: \"O\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"n\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"O(n)\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-0.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.02778em\"\n                },\n                children: \"O\"\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"n\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              })]\n            })\n          })]\n        })\n      }), \"),\", _jsx(_components.br, {}), \"\\n\", \"Group by Key는 정렬 및 그루핑을 해야하기 때문에 상대적으로 느리기 때문이다(\", _jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mi, {\n                    children: \"O\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"n\"\n                  }), _jsx(_components.mi, {\n                    children: \"l\"\n                  }), _jsx(_components.mi, {\n                    children: \"o\"\n                  }), _jsx(_components.mi, {\n                    children: \"g\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"n\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"O(n log(n))\"\n                })]\n              })\n            })\n          }), _jsx(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-0.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.02778em\"\n                },\n                children: \"O\"\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"n\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.01968em\"\n                },\n                children: \"l\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"o\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.03588em\"\n                },\n                children: \"g\"\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"n\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \"))\"\n              })]\n            })\n          })]\n        })\n      }), \").\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"reduce\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#reduce\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Reduce\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"개발자가 개발한 Reduce 함수를 이용해 배열로 되어있는 values들을 하나로 합쳐준다.\", _jsx(_components.br, {}), \"\\n\", \"이 과정이 종료되면 유니크한 key-value pairs가 생성될 것이다.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"dealing-with-failures\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#dealing-with-failures\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Dealing with Failures\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"Map worker\"\n      }), \"가 다운된 경우에는 일이 진행 중이든 완료되었든 간에 무조건 다른 worker에게 일을 처음부터 재시작하게 한다.\", _jsx(_components.br, {}), \"\\n\", \"왜냐하면 일이 완료된 경우 그 결과를 시간 비용의 문제 때문에 \", _jsx(_components.code, {\n        children: \"로컬 디스크\"\n      }), \"에 데이터를 저장하기 때문이다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"반면에 \", _jsx(_components.code, {\n        children: \"Reduce worker\"\n      }), \"가 다운된 경우에는 일이 진행 중인 경우에만 다른 worker에게 일을 처음부터 재시작하도록 한다.\", _jsx(_components.br, {}), \"\\n\", \"Reduce일이 완료된 경우, 그 결과는 중요한 데이터이니 \", _jsx(_components.code, {\n        children: \"분산 저장\"\n      }), \"하기 때문에 완료된 경우에 다운되어도 재시작할 필요가 없는 것이다.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"cost-measure\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#cost-measure\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Cost Measure\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"MapReduce 내부적으로 사용되는 알고리즘의 비용을 측정해보자.\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Communication cost\", _jsx(_components.br, {}), \"\\n\", \"모든 프로세스의 \", _jsx(_components.strong, {\n          children: \"I/O bytes\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: \"(아래 항목을 모두 더하면 됌)\"\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"입력 파일 사이즈\"\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"2 \", _jsx(_components.span, {\n            className: \"math math-inline\",\n            children: _jsxs(_components.span, {\n              className: \"katex\",\n              children: [_jsx(_components.span, {\n                className: \"katex-mathml\",\n                children: _jsx(_components.math, {\n                  xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                  children: _jsxs(_components.semantics, {\n                    children: [_jsx(_components.mrow, {\n                      children: _jsx(_components.mo, {\n                        children: \"×\"\n                      })\n                    }), _jsx(_components.annotation, {\n                      encoding: \"application/x-tex\",\n                      children: \"\\\\times\"\n                    })]\n                  })\n                })\n              }), _jsx(_components.span, {\n                className: \"katex-html\",\n                \"aria-hidden\": \"true\",\n                children: _jsxs(_components.span, {\n                  className: \"base\",\n                  children: [_jsx(_components.span, {\n                    className: \"strut\",\n                    style: {\n                      height: \"0.6667em\",\n                      verticalAlign: \"-0.0833em\"\n                    }\n                  }), _jsx(_components.span, {\n                    className: \"mord\",\n                    children: \"×\"\n                  })]\n                })\n              })]\n            })\n          }), \" Map process → Reduce process 로 이동한 파일 사이즈 (2를 곱한 이유는 Map, Reduce 2개이기 때문)\"]\n        }), \"\\n\", _jsx(_components.li, {\n          children: \"Reduce process에서 나온 출력 사이즈의 합\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Elapsed communication cost\", _jsx(_components.br, {}), \"\\n\", \"Communication cost 중 가장 큰(peak) 비용 (정확히는 파일 사이즈가 가장 큰 입력 파일 기준)\", _jsx(_components.br, {}), \"\\n\", \"→ 이 비용이 작을수록 병렬(분산)화가 잘 되었다는 뜻이다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"(Elapsed) Computation cost\", _jsx(_components.br, {}), \"\\n\", \"1, 2와 동일, 단, 기준이 byte 단위가 아닌 \", _jsx(_components.strong, {\n          children: \"I/O 시간\"\n        }), \" 단위 기준임.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"tip\", {\n      children: _jsxs(_components.p, {\n        children: [\"대부분의 클라우드 서비스는 Communication cost 기준으로 비용이 청구됌.\", _jsx(_components.br, {}), \"\\n\", \"(Elapsed는 기준은 아님)\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"problems-suited-for-mapreduce\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#problems-suited-for-mapreduce\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Problems Suited for MapReduce\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Spark과 같은 라이브러리 말고 MapReduce만 사용하기에도 충분한 문제들을 알아보자.\", _jsx(_components.br, {}), \"\\n\", \"보통 데이터 \", _jsx(_components.code, {\n        children: \"순차탐색\"\n      }), \" 문제나, \", _jsx(_components.code, {\n        children: \"비 실시간\"\n      }), \"으로 처리되어도 상관없는 여유로운 작업에 적합하다.\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"host-size\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#host-size\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Host size\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"url로 부터 host를 추출하고, 해당 호스트에서 제공하는 많고 거대한 데이터의 총 크기(용량)을 알고싶을 때 사용할 수 있다.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"(host1, size1)\", _jsx(_components.br, {}), \"\\n\", \"(host2, size2)\", _jsx(_components.br, {}), \"\\n\", \"...\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"language-model\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#language-model\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Language Model\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"언어 모델 개발시에도 이용할 수 있다.\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"5개의 단어 뭉치가 문서에서 얼마나 등장하는지\", _jsx(_components.br, {}), \"\\n\", \"(5-word seq, count)\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"이런 경우도 map, reduce로 간단하게 만들 수 있다.\"\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"join\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#join\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"join\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"join 연산도 MapReduce로 할 수 있다.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.img, {\n        src: \"/posts/mid_01/231019-155529.png\",\n        alt: \"231019-155529\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.span, {\n        className: \"math math-inline\",\n        children: _jsxs(_components.span, {\n          className: \"katex\",\n          children: [_jsx(_components.span, {\n            className: \"katex-mathml\",\n            children: _jsx(_components.math, {\n              xmlns: \"http://www.w3.org/1998/Math/MathML\",\n              children: _jsxs(_components.semantics, {\n                children: [_jsxs(_components.mrow, {\n                  children: [_jsx(_components.mi, {\n                    children: \"R\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"A\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"B\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  }), _jsx(_components.mo, {\n                    children: \"⋈\"\n                  }), _jsx(_components.mi, {\n                    children: \"S\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \"(\"\n                  }), _jsx(_components.mi, {\n                    children: \"B\"\n                  }), _jsx(_components.mo, {\n                    separator: \"true\",\n                    children: \",\"\n                  }), _jsx(_components.mi, {\n                    children: \"C\"\n                  }), _jsx(_components.mo, {\n                    stretchy: \"false\",\n                    children: \")\"\n                  })]\n                }), _jsx(_components.annotation, {\n                  encoding: \"application/x-tex\",\n                  children: \"R(A,B) \\\\Join S(B,C)\"\n                })]\n              })\n            })\n          }), _jsxs(_components.span, {\n            className: \"katex-html\",\n            \"aria-hidden\": \"true\",\n            children: [_jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-0.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.00773em\"\n                },\n                children: \"R\"\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                children: \"A\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \"0.1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.05017em\"\n                },\n                children: \"B\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \"0.2778em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mrel\",\n                children: \"⋈\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \"0.2778em\"\n                }\n              })]\n            }), _jsxs(_components.span, {\n              className: \"base\",\n              children: [_jsx(_components.span, {\n                className: \"strut\",\n                style: {\n                  height: \"1em\",\n                  verticalAlign: \"-0.25em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.05764em\"\n                },\n                children: \"S\"\n              }), _jsx(_components.span, {\n                className: \"mopen\",\n                children: \"(\"\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.05017em\"\n                },\n                children: \"B\"\n              }), _jsx(_components.span, {\n                className: \"mpunct\",\n                children: \",\"\n              }), _jsx(_components.span, {\n                className: \"mspace\",\n                style: {\n                  marginRight: \"0.1667em\"\n                }\n              }), _jsx(_components.span, {\n                className: \"mord mathnormal\",\n                style: {\n                  marginRight: \"0.07153em\"\n                },\n                children: \"C\"\n              }), _jsx(_components.span, {\n                className: \"mclose\",\n                children: \")\"\n              })]\n            })]\n          })]\n        })\n      }), \"를 \", _jsx(_components.code, {\n        children: \"natural join\"\n      }), \"한다로 해보자.\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.code, {\n          children: \"Map\"\n        })\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"join에 사용될 column을 key로 사용하는 key-value 페어로 만든다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"4\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_4\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"4\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S))\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S))\"]\n      }), \"\\n\", _jsxs(_components.ol, {\n        start: \"2\",\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"키값을 해싱한 후 Reduce 프로세스로 보낸다.\"\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsx(_components.p, {\n        children: _jsx(_components.code, {\n          children: \"Reduce\"\n        })\n      }), \"\\n\", _jsxs(_components.ol, {\n        children: [\"\\n\", _jsx(_components.li, {\n          children: \"Reduce를 진행한다.\"\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mi, {\n                      children: \"h\"\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \"(\"\n                    }), _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \")\"\n                    })]\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"h(b_1)\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"1em\",\n                    verticalAlign: \"-0.25em\"\n                  }\n                }), _jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"h\"\n                }), _jsx(_components.span, {\n                  className: \"mopen\",\n                  children: \"(\"\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: \")\"\n                })]\n              })\n            })]\n          })\n        }), \", [(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R), (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R)])\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mi, {\n                      children: \"h\"\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \"(\"\n                    }), _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \")\"\n                    })]\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"h(b_2)\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"1em\",\n                    verticalAlign: \"-0.25em\"\n                  }\n                }), _jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"h\"\n                }), _jsx(_components.span, {\n                  className: \"mopen\",\n                  children: \"(\"\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: \")\"\n                })]\n              })\n            })]\n          })\n        }), \", [(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R), (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S), (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S)])\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsxs(_components.mrow, {\n                    children: [_jsx(_components.mi, {\n                      children: \"h\"\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \"(\"\n                    }), _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    }), _jsx(_components.mo, {\n                      stretchy: \"false\",\n                      children: \")\"\n                    })]\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"h(b_3)\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"1em\",\n                    verticalAlign: \"-0.25em\"\n                  }\n                }), _jsx(_components.span, {\n                  className: \"mord mathnormal\",\n                  children: \"h\"\n                }), _jsx(_components.span, {\n                  className: \"mopen\",\n                  children: \"(\"\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                }), _jsx(_components.span, {\n                  className: \"mclose\",\n                  children: \")\"\n                })]\n              })\n            })]\n          })\n        }), \", [(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"4\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_4\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"4\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", R), (\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", S)])\"]\n      }), \"\\n\", _jsxs(_components.ol, {\n        start: \"2\",\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"values에 R-S로 되어있는 value들만 묶어서 (a,b,c)로 출력한다.\", _jsx(_components.br, {}), \"\\n\", \"(R-R, S-S를 제외하기 위해서 value pair에 R, S를 포함시킨 것이다)\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"1\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_1\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"1\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \")\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"2\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_2\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"2\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \")\", _jsx(_components.br, {}), \"\\n\", \"(\", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"a\"\n                      }), _jsx(_components.mn, {\n                        children: \"4\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"a_4\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"a\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"4\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"b\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"b_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.8444em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"b\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \", \", _jsx(_components.span, {\n          className: \"math math-inline\",\n          children: _jsxs(_components.span, {\n            className: \"katex\",\n            children: [_jsx(_components.span, {\n              className: \"katex-mathml\",\n              children: _jsx(_components.math, {\n                xmlns: \"http://www.w3.org/1998/Math/MathML\",\n                children: _jsxs(_components.semantics, {\n                  children: [_jsx(_components.mrow, {\n                    children: _jsxs(_components.msub, {\n                      children: [_jsx(_components.mi, {\n                        children: \"c\"\n                      }), _jsx(_components.mn, {\n                        children: \"3\"\n                      })]\n                    })\n                  }), _jsx(_components.annotation, {\n                    encoding: \"application/x-tex\",\n                    children: \"c_3\"\n                  })]\n                })\n              })\n            }), _jsx(_components.span, {\n              className: \"katex-html\",\n              \"aria-hidden\": \"true\",\n              children: _jsxs(_components.span, {\n                className: \"base\",\n                children: [_jsx(_components.span, {\n                  className: \"strut\",\n                  style: {\n                    height: \"0.5806em\",\n                    verticalAlign: \"-0.15em\"\n                  }\n                }), _jsxs(_components.span, {\n                  className: \"mord\",\n                  children: [_jsx(_components.span, {\n                    className: \"mord mathnormal\",\n                    children: \"c\"\n                  }), _jsx(_components.span, {\n                    className: \"msupsub\",\n                    children: _jsxs(_components.span, {\n                      className: \"vlist-t vlist-t2\",\n                      children: [_jsxs(_components.span, {\n                        className: \"vlist-r\",\n                        children: [_jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.3011em\"\n                          },\n                          children: _jsxs(_components.span, {\n                            style: {\n                              top: \"-2.55em\",\n                              marginLeft: \"0em\",\n                              marginRight: \"0.05em\"\n                            },\n                            children: [_jsx(_components.span, {\n                              className: \"pstrut\",\n                              style: {\n                                height: \"2.7em\"\n                              }\n                            }), _jsx(_components.span, {\n                              className: \"sizing reset-size6 size3 mtight\",\n                              children: _jsx(_components.span, {\n                                className: \"mord mtight\",\n                                children: \"3\"\n                              })\n                            })]\n                          })\n                        }), _jsx(_components.span, {\n                          className: \"vlist-s\",\n                          children: \"​\"\n                        })]\n                      }), _jsx(_components.span, {\n                        className: \"vlist-r\",\n                        children: _jsx(_components.span, {\n                          className: \"vlist\",\n                          style: {\n                            height: \"0.15em\"\n                          },\n                          children: _jsx(_components.span, {})\n                        })\n                      })]\n                    })\n                  })]\n                })]\n              })\n            })]\n          })\n        }), \")\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"not-suited\",\n      children: [_jsx(_components.a, {\n        className: \"anchor\",\n        href: \"#not-suited\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Not Suited\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"적합하지 않은 문제상황은 뭐가 있을까?\", _jsx(_components.br, {}), \"\\n\", \"graph 탐색이나, ML에서의 \", _jsx(_components.code, {\n        children: \"비 순차탐색\"\n      }), \" 하는 경우에는 적합치 않다.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{}},"toc":[{"slug":"분산-파일관리-시스템","text":"분산 파일관리 시스템","subSections":[{"slug":"chunk-servers","text":"Chunk servers"},{"slug":"master-node","text":"Master node"}]},{"slug":"mapreduce","text":"MapReduce","subSections":[{"slug":"overview","text":"overview"},{"slug":"map","text":"Map"},{"slug":"group-by-key","text":"Group by Key"},{"slug":"reduce","text":"Reduce"},{"slug":"dealing-with-failures","text":"Dealing with Failures"},{"slug":"cost-measure","text":"Cost Measure"}]},{"slug":"problems-suited-for-mapreduce","text":"Problems Suited for MapReduce","subSections":[{"slug":"host-size","text":"Host size"},{"slug":"language-model","text":"Language Model"},{"slug":"join","text":"join"},{"slug":"not-suited","text":"Not Suited"}]}]},"__N_SSG":true},"page":"/blog/[...slugs]","query":{"slugs":["univ_mmds","mid_01"]},"buildId":"-oJKTxDSUdSuYSM_J6M7B","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>